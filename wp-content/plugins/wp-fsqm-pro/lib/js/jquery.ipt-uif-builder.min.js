!function(e){"use strict";var i={callbackUI:"iptPluginUIFAdmin",callbackOp:{applyUIOnly:!0}},t={init:function(a){e.extend(!0,{},i,a);return this.each(function(){t.applyBuilder.apply(this)})},applyBuilder:function(){var i=this,a=JSON.parse(e(i).find("input.ipt_uif_builder_keys").val());a=e.extend(!0,{},JSON.parse(e(i).find("input.ipt_uif_builder_default_keys").val()),a),e(i).data("ipt_uif_builder_keys",a);var l=JSON.parse(e(i).find("input.ipt_uif_builder_replace_string").val());e(i).data("ipt_uif_builder_replace",l);var p,n,r=e(this).find(".ipt_uif_builder_layout"),_=e(this).find(".ipt_uif_builder_add_layout");r.length&&(p=r[0],t.builderTabs.apply(p,[i])),_.length&&(n=_[0],t.builderAddTab.apply(n,[p,i])),e(this).find(".ipt_uif_droppable").each(function(){t.builderDraggables.apply(this,[p,i])}),e(this).find(".ipt_uif_builder_layout_settings_toolbar").each(function(){t.builderToolbar.apply(this,[p,i,n])});var d=e(this).find(".ipt_uif_builder_settings_box").eq(0);e(this).data("ipt_uif_builder_settings",d),d.data("ipt_uif_builder_settings_origin",void 0),e(this).find("#ipt-eform-builder-settings-wrap").iptPluginUIFAdmin(),e("#ipt-eform-settings-tab-wrapper").hide();var s=d.next().find("button");t.builderSettingsSaveInit.apply(s,[d,i]),t.builderElementSettingsEvent.apply(this),e(this).find(".ipt_uif_builder_wp_editor").css({position:"absolute",left:-9999}).find("button.ipt_uif_button").on("click",function(){s.trigger("click")}),e(this).find(".ipt_uif_builder_deleter").each(function(){t.builderDeleter.apply(this,[d,i])}),e(this).on("click",".ipt_uif_builder_copy_handle",function(e){t.builderDuplicate.apply(this,[i,d])}),e("#ipt-eform-builder-settings-wrap").theiaStickySidebar({additionalMarginTop:48}),e("#ipt-eform-builder-droppable-container-control").on("click",function(i){i.preventDefault(),e("#ipt_fsqm_form").toggleClass("eform-full-view")})},builderTabs:function(i){var a=this,l=e(this).tabs();l.find("> .ui-tabs-nav").sortable({placeholder:"ipt_uif_builder_tabs_sortable_highlight",stop:function(){t.builderTabRefresh.apply(a)},handle:".ipt_uif_builder_tab_sort",tolerance:"pointer",containment:"parent",distance:5}),l.find("> .ui-tabs-panel").each(function(){t.builderDroppables.apply(this,[i])}),l.find("> .ui-tabs-nav li").each(function(){t.builderTabDroppable.apply(this,[i])});var p=e(this).find("> .ui-tabs-nav > li").length;e(this).data("ipt_uif_builder_tab_counter",p),0===p&&e(this).addClass("ipt_uif_builder_empty")},builderAddTab:function(i,a){e(this).on("click",function(l){l.preventDefault();var p=e(a).data("ipt_uif_builder_replace").l_key,n=e(a).find(".ipt_uif_builder_tab_content").text();n=e("<div></div>").html(n).text();var r=e(i).data("ipt_uif_builder_tab_counter"),_=new RegExp(t.quote(p),"g");n=n.replace(_,r);var d=e(i).attr("id")+"_"+r,s=e(i).attr("id")+"_li_"+r,o=e(a).find(".ipt_uif_builder_tab_li").text();o=e("<div></div>").html(o).text(),(o=e(o)).find(".tab_position").val(r),o.find("a").attr("href","#"+d),o.attr("id",s),e(i).find("> .ui-tabs-nav").append(o);var u=e('<div id="'+d+'">'+n+"</div>");u.attr("data-ipt-uif-builder-li",s),e(i).append(u),r++,t.builderTabDroppable.apply(o,[a]),e(i).data("ipt_uif_builder_tab_counter",r),e(i).removeClass("ipt_uif_builder_empty"),t.builderTabRefresh.apply(i),t.builderDroppables.apply(u,[a]),e(i).tabs("option","active",e(i).find("> .ui-tabs-nav > li").length-1)})},builderTabDroppable:function(i){e(this).find(".ipt_uif_builder_tab_droppable").droppable({greedy:!0,accept:".ipt_uif_droppable_element",tolerance:"pointer",activate:function(i,t){e(this).addClass("ipt_uif_builder_tab_droppable_highlight")},deactivate:function(i,t){e(this).removeClass("ipt_uif_builder_tab_droppable_highlight")},over:function(i,t){e(this).addClass("ipt_uif_builder_tab_droppable_over")},out:function(i,t){e(this).removeClass("ipt_uif_builder_tab_droppable_over")},drop:function(a,l){var p=e("#"+e(this).parent().parent().attr("aria-controls")).find("> .ipt_uif_builder_drop_here").get(0),n=this,r=e(n).parent().parent().parent().parent(),_=e(n).parent().parent().parent().find("> li").index(e(n).parent().parent());r.tabs("option","active",_);var d=function(){e(n).removeClass("ipt_uif_builder_tab_droppable_highlight"),e(n).removeClass("ipt_uif_builder_tab_droppable_over")};t.builderHandleDrop.apply(p,[a,l,i,d])}})},builderTabRefresh:function(){e(this).tabs("refresh"),e(this).find("> .ui-tabs-nav").sortable("refresh"),e(this).find("> .ui-tabs-nav").sortable("refreshPositions"),0===e(this).find("> .ui-tabs-nav > li").length&&e(this).addClass("ipt_uif_builder_empty")},builderToolbar:function(i,a,l){e(this).find(".ipt_uif_builder_layout_settings").on("click",function(){var l=e(i).tabs("option","active"),p=e(i).find(".ui-tabs-nav li").eq(l).attr("aria-controls"),n=e(a).data("ipt_uif_builder_settings").get(0),r=e("#"+p).find(".ipt_uif_builder_tab_settings").get(0);t.builderSettingsOpen.apply(this,[n,a,r])}),e(this).find(".ipt_uif_builder_layout_copy").on("click",function(){var p=e(i).tabs("option","active"),n=e(i).find(".ui-tabs-nav li").eq(p).attr("aria-controls"),r=e(a).data("ipt_uif_builder_settings").get(0);t.builderSettingsClose.apply(this,[r,a]),e(l).trigger("click");var _=e(i).tabs("option","active"),d=e(i).find(".ui-tabs-nav li").eq(_).attr("aria-controls"),s=e("#"+n),o=e("#"+d),u=s.find(">.ipt_uif_builder_drop_here").clone(),f=o.find(">.ipt_uif_builder_drop_here"),b=f.data("containerKey");f.remove(),u.find('[data-dbmap="1"]').remove(),u.appendTo(o),t.builderDuplicateReplaceInnerKeys.apply(u,[a,b]),t.builderTabRefresh.apply(i),t.builderDroppables.apply(o,[a])}),e(this).find(".ipt_uif_builder_layout_del").on("click",function(){var a=e(this).data("title");e('<div><div style="padding: 10px;"><p>'+e(this).data("msg")+"</p></div></div>").dialog({autoOpen:!0,buttons:{Confirm:function(){var a=e(i).tabs("option","active"),l=e(i).find(".ui-tabs-nav li").eq(a).remove().attr("aria-controls");e(i).find("#"+l).remove(),t.builderTabRefresh.apply(i),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}},modal:!0,minWidth:600,closeOnEscape:!0,title:a,create:function(i,t){e("body").addClass("ipt_uif_common")},close:function(i,t){e("body").removeClass("ipt_uif_common")}})})},builderSettingsOpen:function(i,a,l){if(t.builderSettingsClose.apply(this,[i,a]),a=e(a),(l=e(l)).length){var p=l.parent(),n=p.find("> .ipt_uif_droppable_element_wrap > .element_title_h3 > .element_name").html();n||(n="Page"),n+=" Settings",e(i).data("ipt_uif_builder_settings_parent",p),e(i).find(".ipt_uif_builder_settings_box_container").prepend(l),e(i).closest(".ipt_uif_builder_settings_box_parent").find("> .settings-heading > .settings-heading-text").html(n);var r=e(i).find("textarea.wp_editor").eq(0);if(r.length){e("#ipt-eform-settings-editor-li").show();var _,d=a.find(".ipt_uif_builder_wp_editor"),s=d.find("textarea").eq(0);"undefined"!=typeof tinyMCE&&(_=tinyMCE.get(s.attr("id")));var o=r.val();d.css({position:"static",left:"auto"}),_&&_ instanceof tinymce.Editor&&!s.is(":visible")?(_.setContent(switchEditors.wpautop(o)),_.save({no_events:!0})):"undefined"!=typeof switchEditors?s.val(switchEditors.pre_wpautop(o)):s.val(o)}else e("#ipt-eform-settings-editor-li").hide();p.hasClass("ipt_uif_droppable_element")&&p.find("> .ipt_uif_droppable_element_wrap").addClass("white"),e(i).data("ipt_uif_builder_settings_origin",l),e("#ipt-eform-settings-tab-wrapper").show().tabs("option","active",0),e(i).parent().stop(!0,!0).css({height:"auto"}).hide().fadeIn("fast",function(){var i=e("#ipt-eform-settings-tab-wrapper").offset().top;e("#wpadminbar").length&&(i-=e("#wpadminbar").outerHeight()+10),e("html, body").animate({scrollTop:i})}),l.data("iptEformBuilderSettingsUI")||l.data("iptEformBuilderSettingsUI",l.iptPluginUIFAdmin({applyUIOnly:!0}))}},builderSettingsClose:function(i,a){var l=e(i).data("ipt_uif_builder_settings_origin"),p=e(i).data("ipt_uif_builder_settings_parent");if(void 0!==l&&void 0!==p){a=e(a);var n=e(i).find("textarea.wp_editor").eq(0);if(n.length){var r,_,d=a.find(".ipt_uif_builder_wp_editor textarea").eq(0).attr("id"),s=a.find(".ipt_uif_builder_wp_editor").find("textarea").eq(0);r="undefined"!=typeof tinyMCE?(_=tinyMCE.get(d))&&_ instanceof tinymce.Editor&&!s.is(":visible")?switchEditors.pre_wpautop(_.getContent()):switchEditors.pre_wpautop(e("#"+d).val()):e("#"+d).val(),n.val(r),a.find(".ipt_uif_builder_wp_editor").css({position:"absolute",left:-9999})}p.hasClass("ipt_uif_droppable_element")&&p.find("> .ipt_uif_droppable_element_wrap").removeClass("white");var o=p.find("input.ipt_uif_builder_helper.element_m_type").val(),u=p.find("input.ipt_uif_builder_helper.element_key").val();if("layout"==o?e("#"+o+"_"+u+"_conditional_active").is(":checked")&&!e("#"+o+"_"+u+"_conditional_status").is(":checked")?(p.addClass("grayed"),e("#"+p.data("iptUifBuilderLi")).addClass("grayed")):(p.removeClass("grayed"),e("#"+p.data("iptUifBuilderLi")).removeClass("grayed")):e("#"+o+"_"+u+"_conditional_active").is(":checked")&&!e("#"+o+"_"+u+"_conditional_status").is(":checked")?p.find("> .ipt_uif_droppable_element_wrap").addClass("grayed"):p.find("> .ipt_uif_droppable_element_wrap").removeClass("grayed"),p.append(l),p.hasClass("ipt_uif_droppable_element_added")){var f=p.find(".element_m_type").val()+"_"+p.find(".element_key").val()+"_title",b=e("#"+f).val();(b=t.stripTags(b))&&"string"==typeof b&&(p.find("> .ipt_uif_droppable_element_wrap > h3.element_title_h3 > span.element_title").text(" : "+b.trim()),p.find("> .ipt_uif_droppable_element_wrap > h3.element_title_h3").attr("title",b.trim()))}e(i).data("ipt_uif_builder_settings_origin",void 0),e(i).data("ipt_uif_builder_settings_parent",void 0),e("#ipt-eform-settings-tab-wrapper").hide(),e(i).parent().stop(!0,!0).hide()}},builderSettingsSaveInit:function(i,a){e(this).on("click",function(){t.builderSettingsClose.apply(this,[i,a])})},builderElementSettingsEvent:function(){var i=this;e(i).on("click",".ipt_uif_droppable_element_wrap",function(a){if(!(e(this).find(".ipt_uif_builder_drop_here_inner").length&&e.contains(e(this).find(".ipt_uif_builder_drop_here_inner").get(0),a.target)||e(a.target).hasClass("ipt_uif_builder_action_handle")||e(this).closest("#ipt-eform-builder-droppables-container").length)){var l=e(this).closest(".ipt_uif_droppable_element").find("> .ipt_uif_builder_settings").get(0),p=e(i).data("ipt_uif_builder_settings").get(0);t.builderSettingsOpen.apply(this,[p,i,l])}}),e(i).on("click",".ipt_uif_builder_settings_handle",function(a){a.preventDefault();var l=e(this).closest(".ipt_uif_droppable_element").find("> .ipt_uif_builder_settings").get(0),p=e(i).data("ipt_uif_builder_settings").get(0);t.builderSettingsOpen.apply(this,[p,i,l])}),e(i).on("click",".ipt_uif_builder_droppable_handle",function(i){i.preventDefault(),e(this).hasClass("ipt_uif_builder_droppable_handle_open")?(e(this).removeClass("ipt_uif_builder_droppable_handle_open"),e(this).siblings(".ipt_uif_builder_drop_here").slideUp("normal")):(e(this).addClass("ipt_uif_builder_droppable_handle_open"),e(this).siblings(".ipt_uif_builder_drop_here").slideDown("normal"))})},builderDeleter:function(i,a){var l=e(this);l.find(".ipt_uif_builder_deleter_wrap").stop(!0,!1).hide();var p=e(this).data("title"),n=e("<div><p>"+e(this).data("msg")+"</p></div>");e(this).droppable({greedy:!0,tolerance:"pointer",accept:".ipt_uif_builder_drop_here .ipt_uif_droppable_element",activate:function(i,t){l.find(".ipt_uif_builder_deleter_wrap").stop(!0,!0).hide().fadeIn("fast"),e(this).removeClass("active")},deactivate:function(e,i){l.find(".ipt_uif_builder_deleter_wrap").stop(!0,!1).fadeOut("fast")},over:function(i,t){e(this).addClass("active"),t.helper.find(".ipt_uif_droppable_element_wrap").addClass("red")},out:function(i,t){e(this).removeClass("active"),t.helper.find(".ipt_uif_droppable_element_wrap").removeClass("red")},drop:function(r,_){var d=_.draggable.parent();e(this).removeClass("active");var s=_.draggable;n.dialog({autoOpen:!0,buttons:{Confirm:function(){1===s.data("dbmap")&&s.data("ipt_uif_builder_dbmap_original").removeClass("ipt_uif_droppable_element_disabled"),_.draggable.remove(),t.builderSettingsClose.apply(this,[i,a]),d.find(".ipt_uif_droppable_element:not(.ui-sortable-placeholder):not(.ui-sortable-helper)").length<1&&d.addClass("ipt_uif_builder_drop_here_empty"),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}},modal:!0,minWidth:600,closeOnEscape:!0,title:p,create:function(i,t){e("body").addClass("ipt_uif_common")},close:function(i,t){e("body").removeClass("ipt_uif_common")}}),l.find(".ipt_uif_builder_deleter_wrap").stop(!0,!1).fadeOut("fast")}})},builderDuplicate:function(i,a){t.builderSettingsClose.apply(this,[a,i]);var l=e(this).closest(".ipt_uif_droppable_element"),p=l.clone(),n=0,r=null;if(!l.data("dbmap")){var _=l.find("textarea"),d=p.find("textarea");if(_.length)for(var s=0;s<_.length;s++)e(d[s]).val(e(_[s]).val());p.find('[data-dbmap="1"]').remove(),n=t.builderDuplicateModifyElements(l,p,i),p.hide(),l.after(p),(r=p.find("> .ipt_uif_droppable_element_wrap > .ipt_uif_builder_drop_here")).length&&(r.each(function(){t.builderDuplicateReplaceInnerKeys.apply(this,[i,n])}),t.builderDroppables.apply(p.get(0),[i])),p.slideDown("fast")}},builderDuplicateModifyElements:function(i,t,a){var l=i.find("> input.ipt_uif_builder_helper.element_m_type").val(),p=(i.find("> input.ipt_uif_builder_helper.element_type").val(),parseInt(i.find("> input.ipt_uif_builder_helper.element_key").val(),10)),n=l+"\\["+p+"\\]",r=l+"_"+p+"_",_=e(a).data("ipt_uif_builder_keys"),d=0;void 0!==_[l]?(d=_[l],_[l]++):_[l]=d,e(a).data("ipt_uif_builder_keys",_),t.find(">.ipt_uif_builder_settings").find("input, textarea, select, button, datalist, keygen, output, label").each(function(){var i=e(this),t=i.attr("name"),a=i.attr("id"),p=i.attr("for");t&&i.attr("name",t.replace(new RegExp(n,"g"),l+"["+d+"]")),a&&i.attr("id",a.replace(new RegExp(r,"g"),l+"_"+d+"_")),p&&i.attr("for",p.replace(new RegExp(r,"g"),l+"_"+d+"_"))}),t.find("script.ipt_uif_sda_data").each(function(){var i=e(this).html().replace(new RegExp(n,"g"),l+"["+d+"]").replace(new RegExp(r,"g"),l+"_"+d+"_");e(this).html(i)}),t.find(".icons-selector").remove(),t.find(">input.ipt_uif_builder_helper.element_key").val(d);var s=t.find("> .ipt_uif_droppable_element_wrap > h3 > .element_info");return s.text(s.text().replace(p,d)),d},builderDuplicateReplaceInnerKeys:function(i,a){e(this).data("containerKey",a);var l=a,p=e(this).data("replaceby")+"["+l+"][elements]";e(this).find(">.ipt_uif_droppable_element").each(function(){var a=e(this),l=0;l=t.builderDuplicateModifyElements(a,a,i),a.find("> input.ipt_uif_builder_helper.element_m_type").attr("name",p+"[m_type][]"),a.find("> input.ipt_uif_builder_helper.element_type").attr("name",p+"[type][]"),a.find("> input.ipt_uif_builder_helper.element_key").attr("name",p+"[key][]");var n=a.find("> .ipt_uif_droppable_element_wrap > .ipt_uif_builder_drop_here");n.length&&n.each(function(){t.builderDuplicateReplaceInnerKeys.apply(this,[i,l])})})},builderDraggables:function(i,a){e(this).find(".ipt_uif_droppable_element").draggable({revert:"invalid",revertDuration:200,helper:"clone",zIndex:9999,appendTo:e(this),cancel:".ipt_uif_droppable_element_disabled",handle:".ipt_uif_builder_sort_handle",cursorAt:{left:19,top:17},delay:100}),e(this).on("click",".ipt_uif_droppable_element",function(l){if(!e(this).hasClass("ipt_uif_droppable_element_disabled")){var p=e(this).clone(),n=e(this),r=e(i).tabs("option","active"),_=e(i).find(">ul>li.ipt_uif_builder_layout_tabs").eq(r).attr("aria-controls"),d=e("#"+_).find("> .ipt_uif_builder_drop_here");t.builderHandleDrop.apply(d.get(0),[null,{draggable:n,helper:p},a])}}),e(this).on("click",".ipt_uif_droppable_elements_parent",function(){var i=e(this),t=i.closest(".ipt_uif_droppable"),a=t.find(".ipt_uif_droppable_back");t.find(".ipt_uif_droppable_elements_parent").stop(!0,!0).hide(),i.next(".ipt_uif_droppable_elements_wrap").stop(!0,!0).fadeIn("fast"),a.show()}),e(this).on("click",".ipt_uif_droppable_back",function(i){i.preventDefault();var t=e(this),a=t.closest(".ipt_uif_droppable");a.find(".ipt_uif_droppable_elements_wrap").stop(!0,!0).hide(),a.find(".ipt_uif_droppable_elements_parent").stop(!0,!0).hide().fadeIn("fast"),t.hide()})},builderDroppables:function(i){e(this).find(".ipt_uif_builder_drop_here").droppable({greedy:!0,accept:".ipt_uif_droppable_element",tolerance:"pointer",activate:function(i,t){e(this).addClass("ipt_uif_highlight")},deactivate:function(i,t){e(this).removeClass("ipt_uif_highlight")},over:function(i,t){e(this).addClass("ipt_uif_droppable_hover"),t.helper.find(".ipt_uif_droppable_element_wrap").addClass("white")},out:function(i,t){e(this).removeClass("ipt_uif_droppable_hover"),t.helper.find(".ipt_uif_droppable_element_wrap").removeClass("white")},drop:function(e,a){t.builderHandleDrop.apply(this,[e,a,i])}}).sortable({items:"> .ipt_uif_droppable_element",handle:"> div > a.ipt_uif_builder_sort_handle",helper:function(i,t){var a=t.attr("class"),l=t.find("> .ipt_uif_droppable_element_wrap"),p=e('<div class="'+a+'"><div class="'+l.attr("class")+'"></div></div>');return p.addClass("ui-sortable-helper"),l.find("> a.ipt_uif_builder_action_handle").each(function(){p.find("> .ipt_uif_droppable_element_wrap").append(e(this).clone())}),p.find("> .ipt_uif_droppable_element_wrap").append(l.find("> h3").clone()).append('<div class="clear"></div>'),p.appendTo(e(this))},cancel:".ipt_uif_droppable_element_cancel_sort",cursorAt:{left:19,top:17},stop:function(i,t){if(t.item.hasClass("ipt_uif_droppable_element_move")){var a=e(this),l=t.item.data("ipt_uif_droppable_move");t.item.removeClass("ipt_uif_droppable_element_move");var p=t.item.parent();t.item.slideUp("fast",function(){t.item.appendTo(l).slideDown("fast",function(){p.find(".ipt_uif_droppable_element:not(.ui-sortable-placeholder):not(.ui-sortable-helper)").length<1&&p.addClass("ipt_uif_builder_drop_here_empty"),l.sortable("refresh"),a.sortable("refresh")})})}}}),e(this).find(".ipt_uif_droppable_element").each(function(){if(1===e(this).data("dbmap")){var t=e(this).attr("class"),a=e(i).find(".ipt_uif_droppable .ipt_uif_droppable_element").filter('[class="'+t+'"]').addClass("ipt_uif_droppable_element_disabled");e(this).data("ipt_uif_builder_dbmap_original",a)}e(this).addClass("ipt_uif_droppable_element_added")})},builderHandleDrop:function(i,a,l,p){a.helper.find(".ipt_uif_droppable_element_wrap").removeClass("white"),e(this).removeClass("ipt_uif_highlight"),e(this).removeClass("ipt_uif_droppable_hover");var n,r=e(this).data("containerKey");if(a.draggable.hasClass("ipt_uif_droppable_element_added")){n=a.draggable;var _=e(this).data("replaceby")+"["+e(this).data("containerKey")+"][elements]";if(n.find("> input.element_m_type").attr("name",_+"[m_type][]"),n.find("> input.element_type").attr("name",_+"[type][]"),n.find("> input.element_key").attr("name",_+"[key][]"),e(this).is(n.parent()));else{var d=e(this);n.data("ipt_uif_droppable_move",d),n.addClass("ipt_uif_droppable_element_move")}}else{var s=(n=a.draggable.clone()).find("> .ipt_uif_builder_settings"),o=e('<div class="ipt_uif_builder_settings"></div>'),u=o.html(s.text()).text();o.html(u),s.remove(),n.find(".ipt_uif_droppable_element_wrap").before(o);var f=e(l).data("ipt_uif_builder_keys"),b=e(l).data("ipt_uif_builder_replace"),c=a.draggable.data("replacethis"),h=e(this).data("replaceby"),m=0,v=n.find(".element_m_type").val();void 0!==f[v]?(m=f[v],f[v]++):f[v]=m;var g=new RegExp(t.quote(b.key),"g"),y=new RegExp(t.quote(b.l_key),"g"),w=new RegExp(t.quote(c),"g");n.html(function(e,i){var t=i.replace(g,m);return(t=t.replace(w,h)).replace(y,r)}),n.find("> input.element_m_type").attr("disabled",!1),n.find("> input.element_type").attr("disabled",!1),n.find("> input.element_key").attr("disabled",!1),1===n.data("dbmap")&&(a.draggable.addClass("ipt_uif_droppable_element_disabled"),n.data("ipt_uif_builder_dbmap_original",a.draggable)),n.addClass("ipt_uif_droppable_element_added"),n.hide(),e(this).append(n),n.find(".ipt_uif_builder_drop_here").length&&t.builderDroppables.apply(n.get(0),[l]);var C=n.find(".element_m_type").val()+"_"+n.find(".element_key").val()+"_title",k=n.find("#"+C).val();(k=t.stripTags(k))&&"string"==typeof k&&(n.find("> .ipt_uif_droppable_element_wrap > h3.element_title_h3 > span.element_title").text(" : "+k.trim()),n.find("> .ipt_uif_droppable_element_wrap > h3.element_title_h3").attr("title",k.trim())),n.slideDown("fast"),e(l).data("ipt_uif_builder_keys",f)}e(this).removeClass("ipt_uif_builder_drop_here_empty"),"function"==typeof p&&p()},quote:function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},stripTags:function(i){var t=e("<div />"),a="";return t.html(i),a=t.text(),t.remove(),a},testImage:function(e){return/\.(gif|jpg|jpeg|tiff|png)$/i.test(e)}};e.fn.iptUIFBuilder=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(e.error("Method "+i+" does not exist on jQuery.iptUIFBuilder"),this):t.init.apply(this,arguments)}}(jQuery),jQuery(document).ready(function(e){e(".ipt_uif_builder").iptUIFBuilder()});