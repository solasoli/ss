/**
 * WPQuark Plugin Framework
 *
 * This is a jQuery plugin which works on the plugin framework to populate the UI
 * Front area
 *
 * @dependency jquery, jquery-ui-widget, jquery-ui-mouse, jquery-ui-button, jquery-touch-punch, jquery-ui-draggable, jquery-ui-droppable,
 *  jquery-ui-sortable, jquery-ui-datepicker, jquery-ui-dialog, jquery-ui-tabs, jquery-ui-slider, jquery-ui-spinner, jquery-ui-progressbar,
 *  jquery-timepicker-addon, jquery-print-element, jquery-mwheelIntent, jquery-mousewheel, jquery-time-circles, jquery-ui-slider-pips,
 *  jquery-ui-autocomplete, ipt-plugin-uif-keyboard, ipt-plugin-uif-validation-engine, ipt-plugin-uif-validation-engine-lang,
 *  ipt-plugin-uif-nivo-slider, ipt-plugin-uif-typewatch, ipt-plugin-uif-fileupload-process, ipt-plugin-uif-fileupload-image,
 *  ipt-plugin-uif-fileupload-audio, ipt-plugin-uif-fileupload-video, ipt-plugin-uif-fileupload-validate, ipt-plugin-uif-fileupload-ui,
 *  ipt-plugin-uif-fileupload-jquery-ui, waypoints, js-expression-evaluator, count-up, jquery-tooltipster, jsignature, jessepollak-card,
 *  jquery-payment, ba-throttle-debounce
 *
 * @author     Swashata@iPanelThemes.com
 * @version 2.0.0
 * @license    Themeforest Split
 */
!function(i,e,t,a){"use strict";function n(e,t){this.element=e,this.jElement=i(e),this.settings=i.extend({},o,t),this._defaults=o,this._name=s,this.ui_theme_id="ipt-uif-custom-none",this.ui_theme_slug="none",this.init()}var s="iptPluginUIFFront",o={callback:null,themeCheckTimeout:5e3,additionalThemes:[],waypoints:!0,applyUIOnly:!1,debug:!1};e.ipt_uif_front_captcha=function(e,t,a,n){if(i(e).val()!=i(e).data("sum"))return iptPluginUIFFront.L10n.validationEngine.requiredInFunction.alertText+i(e).data("sum")},e.iptUIFSigVal=function(e,t,a,n){if(jQuery.inArray("required",t)!==-1&&(""===i(e).val()||"image/jsignature;base30,"==i(e).val()))return iptPluginUIFFront.L10n.validationEngine.requiredSignature.alertText},e.iptUIFSliderVal=function(e,t,a,n){var s=i(e);if(1==s.data("nomin"))if(s.hasClass("slider_range")){if(s.val()==s.data("min")&&s.siblings(".ipt_uif_slider_range_max").val()==s.data("min"))return iptPluginUIFFront.L10n.validationEngine.noMinSlider.alertText}else if(s.val()==s.data("min"))return iptPluginUIFFront.L10n.validationEngine.noMinSlider.alertText},e.iptUIFValidateCC=function(e,t,a,n){var s,o;return e.hasClass("ipt_uif_cc_number")?i.payment.validateCardNumber(e.val())?(s=i.payment.cardType(e.val()),null===s?(e.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-unknown"),iptPluginUIFFront.L10n.validationEngine.ccValidation.type):(e.closest(".ipt_uif_card_holder").find(".ipt_uif_cc_type").val(s),e.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-identified jp-card-"+s),!0)):(s=i.payment.cardType(e.val()),null!==s?e.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-identified jp-card-"+s):e.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-unknown"),iptPluginUIFFront.L10n.validationEngine.ccValidation.number):e.hasClass("ipt_uif_cc_cvc")?(s=e.closest(".ipt_uif_card_holder").find(".ipt_uif_cc_type").val(),!!i.payment.validateCardCVC(e.val(),s)||iptPluginUIFFront.L10n.validationEngine.ccValidation.cvc):!e.hasClass("ipt_uif_cc_expiry")||(o=e.payment("cardExpiryVal"),!!i.payment.validateCardExpiry(o.month,o.year)||iptPluginUIFFront.L10n.validationEngine.ccValidation.expiry)},n.prototype={init:function(){var e,a,n=[],s=this.jElement;if(i("#ipt_uif_default_theme_link-css").length&&(n[n.length]=i("#ipt_uif_default_theme_link-css").get(0)),i.support.opacity===!1&&(i("#ipt_uif_ie8_hack").length?n[n.length]=i("#ipt_uif_ie8_hack").get(0):(e=i('<link id="#ipt_uif_ie8_hack" rel="stylesheet" media="all" type="text/css" href="'+iptPluginUIFFront.location+"css/ie8.css?version="+iptPluginUIFFront.version+'" />'),i("body").append(e),n[n.length]=e.get(0))),this.settings.additionalThemes.length)for(a=0;a<this.settings.additionalThemes.length;a++)"object"==typeof this.settings.additionalThemes[a]&&"id"in this.settings.additionalThemes[a]&&"src"in this.settings.additionalThemes[a]&&(i("#"+this.settings.additionalThemes[a].id+"-css").length?n[n.length]=i("#"+this.settings.additionalThemes[a].id+"-css").get(0):(e=i('<link id="'+this.settings.additionalThemes[a].id+'-css" rel="stylesheet" media="all" type="text/css" href="'+this.settings.additionalThemes[a].src+'" />'),i("body").append(e),n[n.length]=e.get(0)));if(s.data("ui-theme")&&s.data("ui-theme-id")){var o=s.data("ui-theme"),l=s.data("ui-theme-id");this.ui_theme_id="ipt-uif-custom-"+l,this.ui_theme_slug=l,s.addClass("ipt-uif-custom-"+l);var r,d=[];if("object"==typeof o&&o.length)for(a=0;a<o.length;a++)r=i(t).find("#"+l+"_"+a+"-css"),r.length?n[n.length]=r.get(0):d[d.length]=a;if(d.length){var u;for(a=0;a<d.length;a++)u=i('<link media="all" id="'+l+"_"+a+'-css" type="text/css" rel="stylesheet" href="'+o[d[a]]+'" />'),n[n.length]=u.get(0),i("body").append(u)}}else{var c=s.closest("[data-ui-theme-id]");c.length&&(this.ui_theme_slug=c.data("ui-theme-id"),this.ui_theme_id="ipt-uif-custom-"+this.ui_theme_slug)}this.loadThemes(n)},loadThemes:function(i){if(!i.length)return void this.afterThemeLoaded();var e,t,n=this;"sheet"in i[0]?(e="sheet",t="cssRules"):(e="styleSheet",t="rules");var s=setInterval(function(){var l,r=!0;for(l=0;l<i.length;l++){if(!(i[l][e]!==a&&null!==i[l][e]&&t in i[l][e])){r=!1;break}try{if(!i[l][e][t].length){r=!1;break}}catch(i){r=!1}}r&&(clearInterval(s),clearTimeout(o),n.afterThemeLoaded())},300),o=setTimeout(function(){clearInterval(s),clearTimeout(o),n.afterThemeLoaded()},n.settings.themeCheckTimeout)},afterThemeLoaded:function(){i.fn.button.noConflict&&(i.fn.btn=i.fn.button.noConflict());var e,t=this.jElement;return t.addClass("ipt_uif_common"),this.initLoader(),"undefined"!=typeof blueimp&&blueimp.Gallery&&(e=i("#blueimp-gallery"),0===e.length&&i("body").append('<div data-filter=":even" class="blueimp-gallery blueimp-gallery-controls" id="blueimp-gallery" style="display: none;"><div class="slides" style="width: 21600px;"></div><h3 class="title">Dummy.jpg</h3><a class="prev">‹</a><a class="next">›</a><a class="close">×</a><a class="play-pause"></a><ol class="indicator"></ol></div>')),this.settings.applyUIOnly===!0?(this.initUIElements(),this.initSDA(!0),this.initConditionalLogic(),this.triggerCompleted(),void("function"==typeof this.settings.callback&&this.settings.callback.apply(this.jElement,[this.ui_theme_id]))):(this.initUIElements(),this.initUIElementsDelegated(),this.initSDA(!1),this.initConditionalLogic(),this.triggerCompleted(),void("function"==typeof this.settings.callback&&this.settings.callback.apply(this.jElement,[this.ui_theme_id])))},triggerCompleted:function(){this.jElement.trigger("completedUI.eform"),this.jElement.data("eFormUICompleted",!0)},debugLog:function(i,e){e===a&&(e=!1);try{console&&(e?console.warn(i):console.log(i))}catch(i){}},initSDA:function(i){var e=this;this.jElement.find(".ipt_uif_sda").each(function(){e.uiSDAinit.apply(this),e.uiSDAsort.apply(this)}),i!==!0&&(e.edSDAattachAdd(),e.edSDAattachDel())},initLoader:function(){this.jElement.find(".ipt_uif_init_loader").hide(),this.jElement.find(".ipt_uif_hidden_init").show().css({opacity:1,visibility:"visible"}),this.jElement.find(".ipt_uif_message").show(),setTimeout(function(){i(e).trigger("resize")},500)},initConditionalLogic:function(){var e,t,a=this,n={},s=!0;this.conditionalInit=!0;try{n=JSON.parse(this.jElement.find(".ipt_uif_conditional_logic").val())}catch(i){s=!1}if(s){for(e in n.logics)t=n.logics[e].status,t===!1&&(i("#"+e).hide(),i("#"+e).attr("aria-controls")&&i("#"+i("#"+e).attr("aria-controls")).hide());a.settings.applyUIOnly!==!0&&a.edConditionalLogicAttachEvent(n),a.jElement.find(".ipt_uif_conditional").trigger("change"),a.jElement.find(".ipt_uif_text, .ipt_uif_textarea").typeWatch({callback:function(){i(this).trigger("fsqm.conditional")},wait:750,highlight:!1,captureLength:1}),this.conditionalInit=!1}},edConditionalLogicAttachEvent:function(e){var t=this;t.jElement.on("change fsqm.conditional",function(n){var s,o,l,r=i(n.target),d=r.closest(".ipt_uif_conditional"),u=d.attr("id");if(u&&e.indexes[u]!==a)for(s in e.indexes[u]){if(o=e.logics[e.indexes[u][s]],l=i("#"+e.indexes[u][s]),!l.length)return;t.validateLogic.apply(t,[e.base,o.logic,o.relation])?o.change===!0?t.conditionalShowElement.apply(l,[t]):t.conditionalHideElement.apply(l,[t]):o.status===!0?t.conditionalShowElement.apply(l,[t]):t.conditionalHideElement.apply(l,[t])}})},conditionalShowElement:function(e){var t=this;return t.is(":visible")?(t.hasClass("iptUIFCHidden")&&t.trigger("iptUIFCShow"),void t.stop(!0,!0).show().removeClass("iptUIFCHidden")):(t.hasClass("iptUIFCHidden")&&t.find(".ipt-eform-hidden-field").length&&t.find(".ipt-eform-hidden-field").each(function(){i(this).val(i(this).data("eformDefaultValue")),i(this).trigger("change")}),t.stop(!0,!0).removeClass("iptUIFCHidden").slideDown("fast").addClass("iptAnimated iptAppear"),!0!==e.conditionalInit&&e.conditionalRestoreDefault(t),void setTimeout(function(){t.removeClass("iptAnimated iptAppear"),t.removeClass("iptFadeInLeft").css({opacity:""}),e.refreshiFrames.apply(t),t.trigger("iptUIFCShow"),t.find(".ipt_uif_mathematical").length&&t.trigger("fsqm.mathematicalReEvaluate")},200))},conditionalHideElement:function(){var e,t,a,n,s,o,l,r,d,u=this;if(u.hasClass("iptUIFCHidden")||(e=u.find(".ipt_fsqm_payment_method_radio"),t=u.find(".ipt_fsqm_payment_method_radio .ipt_uif_radio").filter(":checked"),e.length&&t.length&&e.data("iptfsqmpp",t.val()),a=u.find('input[type="checkbox"], input[type="radio"]'),a.length&&a.prop("checked",!1).trigger("change"),n=u.find('input[type="text"], textarea, input[type="password"], input[type="number"], input[type="email"], input[type="tel"]'),n.length&&n.val("").trigger("change"),s=u.find(".ipt_uif_slider"),s.length&&(s.val("").trigger("change"),s.each(function(){var e=i(this).siblings("input");e.length&&e.val("").trigger("change")})),o=u.find("select"),o.length&&o.each(function(){var e=i(this);e.val(e.prop("defaultSelected")),e.trigger("change")}),l=u.find(".ipt_uif_jsignature_reset"),l.length&&l.trigger("click"),r=u.find(".ipt-eform-hidden-field"),r.length&&r.each(function(){var e=i(this);e.data("eformDefaultValue",e.val()),e.val(""),e.trigger("change")}),d=u.find(".ipt-eform-trumbowyg"),d.length&&(d.trumbowyg("empty"),u.find(".ipt-eform-guestpost").trigger("change"))),!u.is(":visible")){var c=!1;return u.hasClass("iptUIFCHidden")||(c=!0),u.stop(!0,!0).hide().addClass("iptUIFCHidden"),void(c&&u.trigger("iptUIFCHide"))}u.addClass("iptAnimated iptDisappear iptUIFCHidden").stop(!0,!0).fadeOut("fast"),u.attr("aria-controls")&&i("#"+u.attr("aria-controls")).hide(),setTimeout(function(){u.removeClass("iptAnimated iptDisappear").hide(),u.trigger("iptUIFCHide"),u.find(".ipt_uif_mathematical").length&&u.trigger("fsqm.mathematicalReEvaluate")},500)},conditionalRestoreDefault:function(e){var t='input[type="text"], textarea, input[type="password"], input[type="number"], input[type="email"], input[type="tel"]',a='input[type="radio"], input[type="checkbox"]',n="select";e.find(t).each(function(){var e=i(this);e.prop("defaultValue")&&(e.val(e.prop("defaultValue")),e.trigger("change").trigger("updateTextFields.eform"),e.hasClass("ipt_uif_slider")&&e.trigger("fsqm.slider"),e.hasClass("ipt_uif_slider_range_max")&&e.trigger("fsqm.slider"))}),e.find(a).each(function(){var e=i(this),t=e.prop("checked"),a=!1;1==e.prop("defaultChecked")?(e.prop("checked",!0),a=!0):e.prop("checked",!1),t!=a&&e.trigger("change")}),e.find(n).each(function(){var e=i(this),t=e.find("option"),a=e.val(),n=!1;null==a&&(a=""),"object"!=typeof a&&(a=[a]),t.each(function(){var e=i(this),t=e.val();1==e.prop("defaultSelected")?(i.inArray(t,a)||(n=!0),e.prop("selected",!0)):e.prop("selected",!1)}),n&&e.trigger("change")}),setTimeout(function(){e.trigger("fsqm.mathematicalReEvaluate")},500)},validateLogic:function(e,t){var n,s,o,l,r,d,u,c,p,f,h,_,m,g,v,y,b,j,k,C=this,F=!1,P=[],x=[],T=[],I={frown:1,sad:2,neutral:3,happy:4,excited:5},A={like:1,dislike:0};for(n in t){switch(s=t[n],o=i("#ipt_fsqm_form_"+e+"_"+s.m_type+"_"+s.key),l=o.prev(".ipt_fsqm_hf_type").val(),r=!1,d=null,u=!0,T[n]={},T[n].x=s.m_type,T[n].k=s.key,T[n].has=s.check,T[n].value=s.value,T[n].rel=s.rel,T[n].which=s.operator,this.settings.debug===!0&&this.debugLog(T),l){case"radio":case"p_radio":d=[],o.find("input.ipt_uif_radio").filter(":checked").each(function(){d[d.length]=jQuery.trim(i(this).next("label").text())});break;case"checkbox":case"p_checkbox":d=[],o.find("input.ipt_uif_checkbox").filter(":checked").each(function(){d[d.length]=jQuery.trim(i(this).next("label").text())});break;case"select":case"p_select":d=[],o.find("select.ipt_uif_select option").filter(":selected").each(function(){d[d.length]=jQuery.trim(i(this).text())});break;case"thumbselect":d=[],o.find("input.ipt_uif_radio, input.ipt_uif_checkbox").filter(":checked").each(function(){d[d.length]=jQuery.trim(i(this).data("label"))});break;case"slider":d=C.intelParseFloat(o.find("input.ipt_uif_slider").val()),s.value=C.intelParseFloat(s.value);break;case"range":d=[C.intelParseFloat(o.find("input.ipt_uif_slider.slider_range").val()),C.intelParseFloat(o.find("input.ipt_uif_slider.slider_range").siblings(".ipt_uif_slider_range_max").val())],s.value=C.intelParseFloat(s.value),"val"!=s.check&&(d=0,b=o.find("input.ipt_uif_slider.slider_range"),j=o.find("input.ipt_uif_slider.slider_range").siblings(".ipt_uif_slider_range_max"),k=C.intelParseFloat(b.attr("min")),k!=C.intelParseFloat(b.val())&&k!=C.intelParseFloat(j.val())&&(d=1));break;case"spinners":d=[],o.find("input.ipt_uif_uispinner").each(function(){""!==i(this).val()&&(d[d.length]=C.intelParseFloat(i(this).val()))}),s.value=C.intelParseFloat(s.value);break;case"grading":d=[],o.find("input.ipt_uif_slider").each(function(){""!==i(this).val()&&(d[d.length]=C.intelParseFloat(i(this).val()))}),o.find("input.ipt_uif_slider.slider_range").each(function(){""!==i(this).val()&&(d[d.length]=C.intelParseFloat(i(this).val())),i(this).siblings(".ipt_uif_slider_range_max").length&&(d[d.length]=C.intelParseFloat(i(this).siblings(".ipt_uif_slider_range_max").val()))}),s.value=C.intelParseFloat(s.value);break;case"starrating":case"scalerating":d=[],o.find(".ipt_uif_rating").each(function(){i(this).find("input.ipt_uif_radio:checked").length&&(d[d.length]=C.intelParseFloat(i(this).find("input.ipt_uif_radio:checked").val()))}),s.value=C.intelParseFloat(s.value);break;case"matrix":d=[],f=[],o.find(".ipt_uif_matrix thead th").each(function(){f[f.length]=jQuery.trim(i(this).text())}),o.find(".ipt_uif_checkbox,.ipt_uif_radio").filter(":checked").each(function(){h=i(this).closest("tr").find("> *").index(i(this).closest("td")),""===f[h]&&f[h]===a||(d[d.length]=f[h])});break;case"toggle":case"s_checkbox":d=o.find('input[type="checkbox"]').is(":checked")?"1":"0",s.value=C.intelParseFloat(s.value);break;case"smileyrating":p=o.find('input[type="radio"]:checked').val(),I[p]!==a&&(d=I[p]),s.value=C.intelParseFloat(s.value);break;case"likedislike":p=o.find('input[type="radio"]:checked').val(),A[p]!==a&&(d=A[p]),s.value=C.intelParseFloat(s.value);break;case"matrix_dropdown":d=[],o.find("select").each(function(){_=i(this).find("option").filter(":selected"),""!==_.val()&&(d[d.length]=_.text())});break;case"feedback_small":case"f_name":case"l_name":case"email":case"phone":case"p_name":case"p_email":case"p_phone":case"textinput":case"password":case"keypad":d=o.find("input.ipt_uif_text").val(),d===a&&"keypad"==l&&(d=o.find("textarea").val()),C.isNumeric(d)&&(d=C.intelParseFloat(d));break;case"feedback_large":case"textarea":d=o.find("textarea").val();break;case"upload":d=o.find(".ipt_uif_uploader").data("totalUpload");break;case"mathematical":d=C.intelParseFloat(o.find("input.ipt_uif_mathematical_input").val());break;case"address":d=[],o.find(".ipt_uif_text").each(function(){d[d.length]=i(this).val()});break;case"datetime":switch(d=o.find(".ipt_uif_text").val(),c=C.dates.compare(new Date(d),new Date(s.value)),i.support.opacity===!1&&(c=C.dates.compare(new Date(d.toString().replace(/-/g,"/")),new Date(s.value.toString().replace(/-/g,"/")))),s.operator){case"eq":0===c&&(r=!0);break;case"neq":0!==c&&(r=!0);break;case"gt":1===c&&(r=!0);break;case"lt":c===-1&&(r=!0)}u=!1;break;case"feedback_matrix":d=[],o.find(".ipt_uif_text, .ipt_uif_textarea").each(function(){v=i.trim(i(this).val()),""!==v&&(d[d.length]=v)});break;case"gps":d=[],o.find(".ipt_uif_text").length?o.find(".ipt_uif_text").each(function(){v=i.trim(i(this).val()),""!==v&&(d[d.length]=v)}):(y=o.find(".ipt_uif_locationpicker").data("gpsSettings"),y.values&&(y.values.lat&&(d[d.length]=y.values.lat),y.values.long&&(d[d.length]=y.values.long),y.values.location_name&&(d[d.length]=y.values.location_name)));break;case"signature":d="0",v=o.find(".ipt_uif_jsignature_input").val(),""!==v&&"image/jsignature;base30,"!==v&&(d="1"),s.value=C.intelParseFloat(s.value);break;case"payment":d=o.find(".ipt_fsqm_payment_mathematical .ipt_uif_mathematical_input").val(),o.find(".ipt_uif_coupon").length&&(d=o.find(".ipt_uif_coupon .ipt_uif_mathematical_input").val()),s.value=C.intelParseFloat(s.value);break;case"hidden":d=o.find(".ipt-eform-hidden-field").val();break;case"guestblog":d=[],d[d.length]=o.find(".ipt_uif_text").val(),d[d.length]=o.find(".ipt-eform-guestpost").val();break;case"repeatable":d=o.find(".ipt_uif_sda_elem").length,s.value=C.intelParseFloat(s.value);break;default:r=!1,u=!1}if(u){d===a&&(d=[]);var w=null,E="number"==typeof s.value?s.value:s.value.toString().toLowerCase();if("val"===s.check)if("object"==typeof d){w=[];for(m in d)w[w.length]="number"==typeof d[m]?d[m]:d[m].toString().toLowerCase()}else w="number"==typeof d?d:d.toString().toLowerCase();else w="number"==typeof d?d:d.length,E=C.intelParseFloat(E);var S="object"==typeof w;switch(s.operator){case"eq":if(S)for(m in w){if(""!==w[m]&&w[m]==E){r=!0;break}if(""===w[m]&&""===E){r=!0;break}}else""!==w&&w==E?r=!0:""===w&&""===E&&(r=!0);break;case"neq":if(S){r=!0;for(m in w)if(""!==w[m]&&w[m]==E){r=!1;break}}else r=!0,""!==w&&w==E&&(r=!1);break;case"gt":if(S){for(m in w)if(w[m]>E){r=!0;break}}else w>E&&(r=!0);break;case"lt":if(S){for(m in w)if(w[m]<E){r=!0;break}}else w<E&&(r=!0);break;case"ct":if(S)if("range"==l)r=!1,E>=w[0]&&E<=w[1]&&(r=!0);else for(m in w){try{w[m]=w[m].toString()}catch(i){w[m]=w[m]+""}if(""!==w[m]&&w[m].indexOf(E)!==-1){r=!0;break}}else{try{w=w.toString()}catch(i){w+=""}""!==w&&w.indexOf(E)!==-1&&(r=!0)}break;case"dct":if(S)if("range"==l)r=!1,(E<w[0]||E>w[1])&&(r=!0);else{r=!0;for(m in w){try{w[m]=w[m].toString()}catch(i){w[m]=w[m]+""}if(""!==w[m]&&w[m].indexOf(E)!==-1){r=!1;break}}}else{r=!0;try{w=w.toString()}catch(i){w+=""}""!==w&&w.indexOf(E)!==-1&&(r=!1)}break;case"sw":if(g=new RegExp("^"+E,"m"),S){for(m in w)if(g.test(w[m])){r=!0;break}}else g.test(w)&&(r=!0);break;case"ew":if(g=new RegExp(E+"$","m"),S){for(m in w)if(g.test(w[m])){r=!0;break}}else g.test(w)&&(r=!0)}}P[n]=r,x[n]=s.rel}var U,L=null,D=null,N=[],M=0;for(U in P){if(null===L)L=P[U];else switch(D){case"and":L=L&&P[U];break;case"or":M++,L=P[U]}D=x[U],N[M]=L}F=null;for(m in N)F=null===F?N[m]:F||N[m];return F},initUIElements:function(){this.uiCheckboxToggler(),this.uiApplySlider(),this.uiApplyProgressBar(),this.uiApplyDateTimePicker(),this.uiApplyConditionalInput(),this.uiApplyConditionalSelect(),this.uiApplyImageSlider(),this.uiApplyRating(),this.uiApplySmileyRating(),this.uiApplyLikeDislikeRating(),this.uiApplyKeypad(),this.uiApplyAutoComplete(),this.uiApplyButtons(),this.uiApplyValidation(),this.uiApplyCollapsible(),this.uiApplySortable(),this.uiApplyUploader();try{this.uiApplyLocationPicker()}catch(i){this.debugLog(i,!0)}this.uiApplyTrumbowyg(),this.uiApplyTabs(),this.uiApplyWayPoints(),this.uiApplyTooltip(),this.uiApplyjSignature(),this.uiApplyCards(),this.uiApplyTimeCircles(),this.uiApplyMathematicalEvaluator(),this.uiApplySelectMenu(),this.uiApplyCountry()},uiApplyCountry:function(){var e,t=this;this.countryAutoComplete=[],this.countryList={"afghanistan.json":"Afghanistan","albania.json":"Albania","algeria.json":"Algeria","american_samoa.json":"American Samoa","angola.json":"Angola","anguilla.json":"Anguilla","antigua_and_barbuda.json":"Antigua and Barbuda","argentina.json":"Argentina","armenia.json":"Armenia","aruba.json":"Aruba","australia.json":"Australia","austria.json":"Austria","azerbaijan.json":"Azerbaijan","bahamas.json":"The Bahamas","bahrain.json":"Bahrain","bangladesh.json":"Bangladesh","barbados.json":"Barbados","belarus.json":"Belarus","belgium.json":"Belgium","belize.json":"Belize","benin.json":"Benin","bermuda.json":"Bermuda","bhutan.json":"Bhutan","bolivia.json":"Bolivia","bosnia_and_herzegovina.json":"Bosnia and Herzegovina","botswana.json":"Botswana","brazil.json":"Brazil","british_virgin_islands.json":"British Indian Ocean Territory","brunei.json":"Brunei","bulgaria.json":"Bulgaria","burkina_faso.json":"Burkina Faso","burundi.json":"Burundi","cambodia.json":"Cambodia","cameroon.json":"Cameroon","canada.json":"Canada","cape_verde.json":"Cape Verde","cayman_islands.json":"Cayman Islands","central_african_republic.json":"Central African Republic","chad.json":"Chad","chile.json":"Chile","china.json":"China","christmas_island.json":"Christmas Island","cocos_keeling_islands.json":"Cocos (Keeling) Islands","colombia.json":"Colombia","comoros.json":"Comoros","congo_democratic_republic_of_the.json":"Republic of the Congo","congo_republic_of_the.json":"Democratic Republic of the Congo","cook_islands.json":"Cook Islands","costa_rica.json":"Costa Rica","cote_d_ivoire.json":"Ivory Coast","croatia.json":"Croatia","cuba.json":"Cuba","cyprus.json":"Cyprus","czeck_republic.json":"Czech Republic","denmark.json":"Denmark","djibouti.json":"Djibouti","dominica.json":"Dominica","dominican_republic.json":"Dominican Republic","ecuador.json":"Ecuador","egypt.json":"Egypt","el_salvador.json":"El Salvador","equatorial_guinea.json":"Equatorial Guinea","eritrea.json":"Eritrea","estonia.json":"Estonia","ethiopia.json":"Ethiopia","falkland_islands_islas_malvinas.json":"Falkland Islands","faroe_islands.json":"Faroe Islands","fiji.json":"Fiji","finland.json":"Finland","france.json":"France","french_guiana.json":"French Guiana","french_polynesia.json":"French Polynesia","french_southern_and_antarctic_lands.json":"French Southern and Antarctic Lands","gabon.json":"Gabon","gambia_the.json":"The Gambia","georgia.json":"Georgia","germany.json":"Germany","ghana.json":"Ghana","gibraltar.json":"Gibraltar","greece.json":"Greece","greenland.json":"Greenland","grenada.json":"Grenada","guadeloupe.json":"Guadeloupe","guam.json":"Guam","guatemala.json":"Guatemala","guernsey.json":"Guernsey","guinea.json":"Guinea","guinea_bissau.json":"Guinea-Bissau","guyana.json":"Guyana","haiti.json":"Haiti","heard_island_and_mc_donald_islands.json":"Heard Island and McDonald Islands","honduras.json":"Honduras","hong_kong.json":"Hong Kong","howland_island.json":"Hungary","iceland.json":"Iceland","india.json":"India","indonesia.json":"Indonesia","iran.json":"Iran","iraq.json":"Iraq","ireland.json":"Ireland","israel.json":"Israel","italy.json":"Italy","jamaica.json":"Jamaica","japan.json":"Japan","jersey.json":"Jersey","jordan.json":"Jordan","kazakhstan.json":"Kazakhstan","kenya.json":"Kenya","kiribati.json":"Kiribati","korea_north.json":"North Korea","korea_south.json":"South Korea","kuwait.json":"Kuwait","kyrgyzstan.json":"Kyrgyzstan","laos.json":"Laos","latvia.json":"Latvia","lebanon.json":"Lebanon","lesotho.json":"Lesotho","liberia.json":"Liberia","libya.json":"Libya","liechtenstein.json":"Liechtenstein","lithuania.json":"Lithuania","luxembourg.json":"Luxembourg","macau.json":"Macau","macedonia_former_yugoslav_republic_of.json":"Republic of Macedonia","madagascar.json":"Madagascar","malawi.json":"Malawi","malaysia.json":"Malaysia","maldives.json":"Maldives","mali.json":"Mali","malta.json":"Malta","man_isle_of.json":"Isle of Man","marshall_islands.json":"Marshall Islands","martinique.json":"Martinique","mauritania.json":"Mauritania","mauritius.json":"Mauritius","mayotte.json":"Mayotte","mexico.json":"Mexico","micronesia_federated_states_of.json":"Federated States of Micronesia","moldova.json":"Moldova","monaco.json":"Monaco","mongolia.json":"Mongolia","montserrat.json":"Montserrat","morocco.json":"Morocco","mozambique.json":"Mozambique","namibia.json":"Namibia","nauru.json":"Nauru","nepal.json":"Nepal","netherlands.json":"Netherlands","new_caledonia.json":"New Caledonia","new_zealand.json":"New Zealand","nicaragua.json":"Nicaragua","niger.json":"Niger","nigeria.json":"Nigeria","niue.json":"Niue","norfolk_island.json":"Norfolk Island","northern_mariana_islands.json":"Northern Mariana Islands","norway.json":"Norway","oman.json":"Oman","pakistan.json":"Pakistan","palau.json":"Palau","panama.json":"Panama","papua_new_guinea.json":"Papua New Guinea","paraguay.json":"Paraguay","peru.json":"Peru","philippines.json":"Philippines","pitcaim_islands.json":"Pitcairn Islands","poland.json":"Poland","portugal.json":"Portugal","puerto_rico.json":"Puerto Rico","qatar.json":"Qatar","reunion.json":"Réunion","romainia.json":"Romania","russia.json":"Russia","rwanda.json":"Rwanda","saint_helena.json":"Saint Helena","saint_kitts_and_nevis.json":"Saint Kitts and Nevis","saint_lucia.json":"Saint Lucia","saint_pierre_and_miquelon.json":"Saint Pierre and Miquelon","saint_vincent_and_the_grenadines.json":"Saint Vincent and the Grenadines","samoa.json":"Samoa","san_marino.json":"San Marino","sao_tome_and_principe.json":"São Tomé and Príncipe","saudi_arabia.json":"Saudi Arabia","scotland.json":"Scotland","senegal.json":"Senegal","seychelles.json":"Seychelles","sierra_leone.json":"Sierra Leone","singapore.json":"Singapore","slovakia.json":"Slovakia","slovenia.json":"Slovenia","solomon_islands.json":"Solomon Islands","somalia.json":"Somalia","south_africa.json":"South Africa","south_georgia_and_south_sandwich_islands.json":"South Georgia","south_sudan.json":"South Sudan","spain.json":"Spain","sri_lanka.json":"Sri Lanka","sudan.json":"Sudan","suriname.json":"Suriname","svalbard.json":"Svalbard and Jan Mayen","swaziland.json":"Swaziland","sweden.json":"Sweden","switzerland.json":"Switzerland","syria.json":"Syria","taiwan.json":"Taiwan","tajikistan.json":"Tajikistan","tanzania.json":"Tanzania","thailand.json":"Thailand","tobago.json":"East Timor","toga.json":"Togo","tokelau.json":"Tokelau","tonga.json":"Tonga","trinidad.json":"Trinidad and Tobago","tunisia.json":"Tunisia","turkey.json":"Turkey","turkmenistan.json":"Turkmenistan","tuvalu.json":"Tuvalu","uganda.json":"Uganda","ukraine.json":"Ukraine","united_arab_emirates.json":"United Arab Emirates","united_kingdom.json":"United Kingdom","united_states_of_america.json":"United States","uruguay.json":"Uruguay","uzbekistan.json":"Uzbekistan","vanuatu.json":"Vanuatu","venezuela.json":"Venezuela","vietnam.json":"Vietnam","wales.json":"Wales","wallis_and_futuna.json":"Wallis and Futuna","western_sahara.json":"Western Sahara","yemen.json":"Yemen","zambia.json":"Zambia","zimbabwe.json":"Zimbabwe"};for(e in this.countryList)this.countryAutoComplete[this.countryAutoComplete.length]=this.countryList[e];this.provinceCache=[],this.jElement.find(".ipt-eform-address-country").each(function(){var e=i(this).find(".ipt_uif_autocomplete"),a=i(this).closest(".ipt_fsqm_container_address").find(".ipt-eform-address-province .ipt_uif_autocomplete");e.autocomplete("option","source",t.countryAutoComplete),""!=e.val()&&a.length&&t._updateProvince(e)}),this.jElement.find(".ipt-eform-address-province .ipt_uif_autocomplete").each(function(){var e=i(this);e.data("presetCountry")&&""!=e.data("presetCountry")&&t._updateProvince(e,!0)})},uiApplySelectMenu:function(){if("undefined"!=typeof i.fn.select2){i("select.ipt_uif_select").select2()}},uiApplyMathematicalEvaluator:function(){if("undefined"!=typeof Parser){var i=this;this.jElement.data("iptFSQMMathVarToElem")||this.jElement.data("iptFSQMMathVarToElem",{}),this.jElement.find(".ipt_uif_mathematical_input").each(function(){try{i.evaluateMathematicalFormula.apply(this,[i])}catch(e){i.debugLog(e,!0)}})}},uiApplyTimeCircles:function(){"undefined"!=typeof i.fn.TimeCircles&&this.jElement.find(".ipt_uif_circle_timer").each(function(){var e,t=i(this).data("coptions"),n=["Days","Hours","Minutes","Seconds"];"object"!=typeof t&&(t={}),t.time===a&&(t.time={});for(e in n)t.time[n[e]]===a&&(t.time[n[e]]={}),t.time[n[e]].text=iptPluginUIFFront.L10n.timer[n[e]];i(this).TimeCircles(t)})},uiApplyCards:function(){"undefined"!=typeof i.fn.card&&"undefined"!=typeof i.fn.payment&&this.jElement.find(".ipt_uif_card_holder").each(function(){var e=i(this),t=e.data("config");t.container=e.find(".ipt_uif_card").get(0),t.formatting=!1,t.debug=!0,e.find(".ipt_uif_cc_number").payment("formatCardNumber").typeWatch({highlight:!1,captureLength:1,wait:200,callback:function(e){var t=i(this),a=i.payment.cardType(t.val());null!==a?t.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-identified jp-card-"+a):t.closest(".ipt_uif_card_holder").find(".jp-card").attr("class","").addClass("jp-card jp-card-unknown")}}),e.find(".ipt_uif_cc_cvc").payment("formatCardCVC"),e.find(".ipt_uif_cc_expiry").payment("formatCardExpiry"),e.closest("form").card(t)})},uiApplyjSignature:function(){"undefined"!=typeof i.fn.jSignature&&this.jElement.find(".ipt_uif_jsignature_pad").jSignature({lineWidth:2,UndoButton:!0}).each(function(){var e=i(this).prev(".ipt_uif_jsignature_input").val();""!==e&&"image/jsignature;base30,"!=e&&i(this).jSignature("setData",e,"base30")})},uiApplyTooltip:function(){this.jElement.find(".ipt_uif_tooltip").tooltipster({theme:"tooltipster-shadow",animation:"grow"}),this.jElement.find(".ipt_uif_qtooltip").tooltipster({theme:"tooltipster-shadow",animation:"grow",side:"left",contentAsHTML:!0,interactive:!0})},uiApplyWayPoints:function(){if(this.settings.waypoints===!0){var e=this.jElement.find(".ipt_uif_conditional").filter(":visible").css({opacity:0}).removeClass("iptAnimated iptFadeInLeft");setTimeout(function(){e.waypoint({handler:function(e){var t;"function"==typeof this.destroy?(t=i(this.element),t.css({opacity:""}),t.is(":visible")&&(t.addClass("iptAnimated iptFadeInLeft"),setTimeout(function(){t.removeClass("iptAnimated iptFadeInLeft")},500)),this.destroy()):(t=i(this),t.css({opacity:""}),t.is(":visible")&&(t.addClass("iptAnimated iptFadeInLeft"),setTimeout(function(){t.removeClass("iptAnimated iptFadeInLeft")},500)),t.waypoint("destroy"))},offset:"98%"})},100)}},uiApplyLocationPicker:function(){"undefined"!=typeof i.fn.locationpicker&&this.jElement.find(".ipt_uif_locationpicker").each(function(){var t=i(this),a=t.data("gpsSettings"),n=t.find(".locationpicker-maps-control"),s=t.find(".locationpicker-maps-locating"),o=t.find(".location-maps-error");if(a.showUI===!1)i.isNumeric(a.values.lat)&&i.isNumeric(a.values.long)?(n.locationpicker({location:{latitude:a.values.lat,longitude:a.values.long},radius:a.radius,zoom:a.zoom}),setTimeout(function(){t.trigger("fsqm.conditional")},200),t.closest(".ipt_uif_conditional").on("iptUIFCShow",function(){n.locationpicker("autosize")}),t.closest(".ipt_fsqm_main_tab").on("tabsactivate",function(){n.locationpicker("autosize")}),i(e).on("resize",function(){n.locationpicker("autosize")}),i(e).on("fsqm.rlp",function(){n.locationpicker("autosize")})):n.html(a.nolocation);else{var l=function(){s.stop(!0,!0).fadeIn("fast"),o.hide(),i.geolocation.get({success:function(i){var e=i.coords.accuracy;e||(e=a.radius),n.locationpicker("location",{latitude:i.coords.latitude,longitude:i.coords.longitude,radius:e}),s.hide(),o.hide(),setTimeout(function(){t.trigger("locationPicker.eform"),t.trigger("fsqm.conditional")},200)},fail:function(i){s.stop(!0,!0).hide(),o.stop(!0,!0).fadeIn("fast").delay(4e3).fadeOut("fast"),setTimeout(function(){t.trigger("locationPicker.eform"),t.trigger("fsqm.conditional")},200)},options:{enableHighAccuracy:!0,timeout:3e4,maximumAge:0}})};n.locationpicker({location:{latitude:a.values.lat,longitude:a.values.long},locationName:a.values.location_name,radius:a.radius,zoom:a.zoom,scrollwheel:a.scrollwheel,inputBinding:{latitudeInput:i("#"+a.ids.latitudeInput),longitudeInput:i("#"+a.ids.longitudeInput),locationNameInput:i("#"+a.ids.locationNameInput)},enableAutocomplete:!0,oninitialized:function(e){t.trigger("locationPicker.eform"),i.isNumeric(a.values.lat)&&i.isNumeric(a.values.long)||l()},onchanged:function(){setTimeout(function(){t.trigger("locationPicker.eform"),t.trigger("fsqm.conditional")},200)}}),t.find(".location-update").length&&t.find(".location-update").on("click",function(i){i.preventDefault(),l()}),i(e).on("resize",function(){n.locationpicker("autosize")}),t.closest(".ipt_uif_conditional").on("iptUIFCShow",function(){n.locationpicker("autosize")}),t.closest(".ipt_fsqm_main_tab").on("tabsactivate",function(){n.locationpicker("autosize")}),i(e).on("fsqm.rlp",function(){n.locationpicker("autosize")})}})},uiApplyUploader:function(){"undefined"!=typeof i.fn.fileupload&&this.jElement.find(".ipt_uif_uploader").each(function(){
var e=i(this),t=e.data("settings"),n=e.data("configuration"),s=e.data("formdata"),o=e.find(".ipt_uif_uploader_handle"),l=e.find(".fileinput-dragdrop"),r=new RegExp("(.|/)("+t.accept_file_types.split(",").join("|")+")$","i");e.fileupload({url:iptPluginUIFFront.ajaxurl+n.upload_url,dropZone:l,fileInput:o,formData:s,acceptFileTypes:r,maxFileSize:parseInt(t.max_file_size,10),minFileSize:parseInt(t.min_file_size,10),maxNumberOfFiles:parseInt(t.max_number_of_files,10),uploadTemplateId:n.id+"_tmpl_upload",downloadTemplateId:n.id+"_tmpl_download",previewMaxHeight:100,previewMaxWidth:150,autoUpload:t.auto_upload===!0,messages:iptPluginUIFFront.L10n.uploader.messages}),e.data("activeUpload",0),e.data("totalUpload",0),e.on("fileuploadsend",function(i,t){var a=e.data("activeUpload");a++,e.data("activeUpload",a)}),e.on("fileuploadalways",function(i,t){var a=e.data("activeUpload");a--,e.data("activeUpload",a),e.trigger("change")}),e.on("fileuploaddone",function(i,t){var n=e.data("totalUpload");t._response.result.files[0].error===a&&n++,e.data("totalUpload",n)}),e.on("fileuploaddestroyed",function(i,t){var a=e.data("totalUpload");""!==t.url&&a--,e.data("totalUpload",a),e.trigger("change")}),n.do_download===!0&&(e.addClass("fileupload-processing"),i.ajax({url:iptPluginUIFFront.ajaxurl+n.download_url,data:s,context:e.get(0)}).always(function(){i(this).removeClass("fileupload-processing")}).done(function(e){e.files.length!==a&&i(this).data("totalUpload",e.files.length),i(this).fileupload("option","done").call(this,i.Event("done"),{result:e})}))})},uiApplySortable:function(){this.jElement.find(".ipt_uif_sorting").sortable({handle:".ipt_uif_sorting_handle",items:"> .ipt_uif_sortme",helper:"clone",appendTo:this.jElement,containment:"parent",placeholder:"ipt_uif_sortme_placeholder",forcePlaceholderSize:!0})},uiApplyValidation:function(){this.jElement.find("form.ipt_uif_validate_form").validationEngine({promptPosition:"topLeft",bindOnSubmit:!1})},uiApplyButtons:function(){this.jElement.find(".ipt_uif_button, .ipt_uif_ul_menu > li > a").button()},uiApplyAutoComplete:function(){this.jElement.find(".ipt_uif_autocomplete").each(function(){i(this).autocomplete({source:i(this).data("autocomplete"),appendTo:i(this).parents(".ipt_uif_front")})})},uiApplyKeypad:function(){var e=this;this.jElement.find(".ipt_uif_keypad").each(function(){var t=i(this).data("settings");i(this).keyboard({layout:t.layout,usePreview:!1,autoAccept:!0,appendLocally:!1,beforeClose:function(){i("body").removeClass("ipt_uif_common "+e.ui_theme_id)}}).on("focus",function(){i("body").addClass("ipt_uif_common "+e.ui_theme_id)})})},uiApplyRating:function(){this.jElement.find(".ipt_uif_rating input:checked").each(function(){i(this).addClass("active").prevAll("input").addClass("active")})},uiApplySmileyRating:function(){this.jElement.find(".ipt_uif_rating_smiley").each(function(){i(this).find("input.ipt_uif_smiley_rating_radio:checked").length?i(this).addClass("ipt_uif_smiley_feedback_active"):i(this).removeClass("ipt_uif_smiley_feedback_active")})},uiApplyLikeDislikeRating:function(){this.jElement.find(".ipt_uif_rating_likedislike").each(function(){i(this).find("input.ipt_uif_likedislike_rating_radio:checked").length?i(this).addClass("ipt_uif_likedislike_feedback_active"):i(this).removeClass("ipt_uif_likedislike_feedback_active")})},uiApplyImageSlider:function(){this.jElement.find(".ipt_uif_image_slider_wrap").each(function(){var e=i(this),t=e.data("settings"),a=i('<a class=""></a>'),n=e.find(".ipt_uif_image_slider"),s=t.on_play,o=t.on_pause;n.nivoSlider({effect:t.animation,animSpeed:1e3*t.transition,pauseTime:1e3*t.duration,pauseOnHover:!1,manualAdvance:!t.autoslide,controlNav:!0,prevText:"",nextText:""}),n.find("a.nivo-prevNav").after(a),a.on("click",function(e){e.preventDefault();var t=n.data("nivoslider");i(this).hasClass("ipt_uif_image_slider_sliding")?(t.stop(),i(this).removeClass("ipt_uif_image_slider_sliding"),i(this).removeClass(s),i(this).addClass(o)):(t.start(),i(this).addClass("ipt_uif_image_slider_sliding"),i(this).removeClass(o),i(this).addClass(s))}),t.autoslide===!0?(a.addClass("ipt_uif_image_slider_sliding"),a.removeClass(o),a.addClass(s)):(a.removeClass("ipt_uif_image_slider_sliding"),a.removeClass(s),a.addClass(o))})},uiCheckboxToggler:function(){var e=this.jElement;e.find(".ipt_uif_checkbox_toggler").each(function(){var t=i(this);t.is(":checked")&&i(t.data("selector")).prop("checked",!0),e.on("change",t.data("selector"),function(){t.prop("checked",!1)})})},uiApplySpinner:function(){this.jElement.find(".ipt_uif_uispinner").spinner()},uiApplySlider:function(){if("undefined"!=typeof i.fn.slider){this.jElement.find(".ipt_uif_slider").each(function(){var e,t,a,n,s,o,l,r,d,u,c,p,f,h=i(this),_=null;e=parseFloat(i(this).data("step")),isNaN(e)&&(e=1),t=parseFloat(i(this).data("min")),isNaN(t)&&(t=1),a=parseFloat(i(this).data("max")),isNaN(a)&&(a=null),n=parseFloat(i(this).val()),isNaN(n)&&(n=t),s=!!i(this).hasClass("slider_range"),c=1==i(this).data("floats"),p=1==i(this).data("vertical"),f=parseInt(i(this).data("height")),(isNaN(f)||f<=0)&&(f=300),o={min:t,max:a,step:e,range:s},p&&(o.orientation="vertical"),s&&(_=h.next("input"),l=parseFloat(_.val()),isNaN(l)&&(l=t)),r=h.siblings("div.ipt_uif_slider_count"),d=i("<div />"),d.addClass(s?"ipt_uif_slider_range":"ipt_uif_slider_single").addClass("ipt_uif_slider_div"),u=s?_.next("div.ipt_uif_slider_range"):h.next("div.ipt_uif_slider_range"),u.length&&u.remove(),h.after(d),s?(o.values=[n,l],o.range=!0):o.value=n,r.length&&(s?(r.find("span.ipt_uif_slider_count_min").text(n),r.find("span.ipt_uif_slider_count_max").text(l)):r.find("span").text(n)),p&&d.height(f);var m=d.slider(o).slider("pips",h.data("labels"));c&&m.slider("float")})}},uiApplyProgressBar:function(){this.jElement.find(".ipt_uif_progress_bar").each(function(){var e=i(this),t=e.data("start")?e.data("start"):0,a=e.data("decimals"),n=e.find(".ipt_uif_progress_value span").addClass("code");n.html(t+"%"),n.data("iptPBVal",t);e.progressbar({value:t,change:function(e,t){var s=i(this).progressbar("option","value"),o=new CountUp(n.get(0),n.data("iptPBVal"),s,a,1,{useEasing:!0,useGrouping:!1,separator:"",decimal:".",prefix:"",suffix:"%"});n.data("iptPBCU")&&n.data("iptPBCU").reset(),o.start(),n.data("iptPBVal",s),n.data("iptPBCU",o)}})})},uiApplyDateTimePicker:function(){var e=this;this.jElement.find(".ipt_uif_datepicker").each(function(){var t=i(this),a=t.data("year_range");a||(a=50),t.datepicker({dateFormat:i(this).data("dateformat"),duration:0,beforeShow:function(){var a,n,s="",o=null,l=null;t.data("future")&&(a=t.data("future").toLowerCase(),a.match(/(\d+)-(\d+)-(\d+)/)?o=new Date(a):(s=i("#"+t.data("future")).val(),o=null,""!==s&&(o=new Date(s))),o.setDate(o.getDate()+1),t.datepicker("option","minDate",o)),t.data("past")&&(n=t.data("past").toLowerCase(),n.match(/(\d+)-(\d+)-(\d+)/)?l=new Date(n):(s=i("#"+t.data("past")).val(),""!=s&&(l=new Date(s))),l.setDate(l.getDate()-1),t.datepicker("option","maxDate",l)),i("body").addClass(e.ui_theme_slug),t.trigger("datepickerOpen.eform")},onClose:function(){i("body").removeClass(e.ui_theme_slug),t.trigger("datepickerClose.eform");try{t.validationEngine("validate")}catch(i){}""==t.val()?t.addClass("is-empty"):t.removeClass("is-empty")},showButtonPanel:!0,closeText:iptPluginUIFDTPL10n.closeText,currentText:iptPluginUIFDTPL10n.currentText,monthNames:iptPluginUIFDTPL10n.monthNames,monthNamesShort:iptPluginUIFDTPL10n.monthNamesShort,dayNames:iptPluginUIFDTPL10n.dayNames,dayNamesShort:iptPluginUIFDTPL10n.dayNamesShort,dayNamesMin:iptPluginUIFDTPL10n.dayNamesMin,firstDay:iptPluginUIFDTPL10n.firstDay,isRTL:iptPluginUIFDTPL10n.isRTL,timezoneText:iptPluginUIFDTPL10n.timezoneText,changeMonth:!0,changeYear:!0,yearRange:"c-"+a+":c+"+a,appendTo:e.jElement})}),this.jElement.find(".ipt_uif_datetimepicker").each(function(){var t=i(this),a=t.data("year_range");a||(a=50),i(this).datetimepicker({dateFormat:i(this).data("dateformat"),duration:0,timeFormat:i(this).data("timeformat"),beforeShow:function(){i("body").addClass(e.ui_theme_slug),t.trigger("datepickerOpen.eform")},onClose:function(){i("body").removeClass(e.ui_theme_slug),t.trigger("datepickerClose.eform");try{t.validationEngine("validate")}catch(i){}""==t.val()?t.addClass("is-empty"):t.removeClass("is-empty")},showButtonPanel:!0,closeText:iptPluginUIFDTPL10n.closeText,currentText:iptPluginUIFDTPL10n.tcurrentText,monthNames:iptPluginUIFDTPL10n.monthNames,monthNamesShort:iptPluginUIFDTPL10n.monthNamesShort,dayNames:iptPluginUIFDTPL10n.dayNames,dayNamesShort:iptPluginUIFDTPL10n.dayNamesShort,dayNamesMin:iptPluginUIFDTPL10n.dayNamesMin,firstDay:iptPluginUIFDTPL10n.firstDay,isRTL:iptPluginUIFDTPL10n.isRTL,amNames:iptPluginUIFDTPL10n.amNames,pmNames:iptPluginUIFDTPL10n.pmNames,timeSuffix:iptPluginUIFDTPL10n.timeSuffix,timeOnlyTitle:iptPluginUIFDTPL10n.timeOnlyTitle,timeText:iptPluginUIFDTPL10n.timeText,hourText:iptPluginUIFDTPL10n.hourText,minuteText:iptPluginUIFDTPL10n.minuteText,secondText:iptPluginUIFDTPL10n.secondText,millisecText:iptPluginUIFDTPL10n.millisecText,microsecText:iptPluginUIFDTPL10n.microsecText,timezoneText:iptPluginUIFDTPL10n.timezoneText,changeMonth:!0,changeYear:!0,yearRange:"c-"+a+":c+"+a,appendTo:e.jElement})}),this.jElement.find(".ipt_uif_timepicker").each(function(){var t=i(this);i(this).timepicker({timeFormat:i(this).data("timeformat"),duration:0,beforeShow:function(){i("body").addClass(e.ui_theme_slug),t.trigger("datepickerOpen.eform")},onClose:function(){i("body").removeClass(e.ui_theme_slug),t.trigger("datepickerClose.eform");try{t.validationEngine("validate")}catch(i){}""==t.val()?t.addClass("is-empty"):t.removeClass("is-empty")},showButtonPanel:!0,closeText:iptPluginUIFDTPL10n.closeText,currentText:iptPluginUIFDTPL10n.tcurrentText,isRTL:iptPluginUIFDTPL10n.isRTL,amNames:iptPluginUIFDTPL10n.amNames,pmNames:iptPluginUIFDTPL10n.pmNames,timeSuffix:iptPluginUIFDTPL10n.timeSuffix,timeOnlyTitle:iptPluginUIFDTPL10n.timeOnlyTitle,timeText:iptPluginUIFDTPL10n.timeText,hourText:iptPluginUIFDTPL10n.hourText,minuteText:iptPluginUIFDTPL10n.minuteText,secondText:iptPluginUIFDTPL10n.secondText,millisecText:iptPluginUIFDTPL10n.millisecText,microsecText:iptPluginUIFDTPL10n.microsecText,timezoneText:iptPluginUIFDTPL10n.timezoneText,appendTo:e.jElement})})},uiApplyConditionalInput:function(){this.jElement.find(".ipt_uif_conditional_input").each(function(){var e,t,a=i(this),n=a.find("input"),s=[],o=[];for(n.each(function(){e=i(this).data("condid"),e="string"==typeof e?e.split(","):[],i(this).is(":checked")?s.push.apply(s,e):o.push.apply(o,e)}),t=0;t<o.length;t++)i("#"+o[t]).stop(!0,!0).hide();for(t=0;t<s.length;t++)i("#"+s[t]).stop(!0,!0).show()})},uiApplyConditionalSelect:function(){this.jElement.find(".ipt_uif_conditional_select").each(function(){var e,t,a=i(this),n=a.find("select"),s=[],o=[];for(n.find("option").each(function(){e=i(this).data("condid"),e="string"==typeof e?e.split(","):[],i(this).is(":selected")?s.push.apply(s,e):o.push.apply(o,e)}),t=0;t<o.length;t++)i("#"+o[t]).stop(!0,!0).hide();for(t=0;t<s.length;t++)i("#"+s[t]).stop(!0,!0).show()})},uiApplyCollapsible:function(){var e=this;this.jElement.find(".ipt_uif_collapsible").each(function(){var t=!1,a=i(this),n=a.find("> .ipt_uif_container_inner");a.data("opened")!==!0&&1!==a.data("opened")||(t=!0),t?(n.show(),e.refreshiFrames(n),a.addClass("ipt_uif_collapsible_open")):(n.hide(),a.removeClass("ipt_uif_collapsible_open")),i(this).trigger("iptUICollapsible")})},uiApplyTrumbowyg:function(){"function"==typeof jQuery.fn.trumbowyg&&this.jElement.find(".ipt-eform-trumbowyg").each(function(){var e=i(this).data("efTrum");"object"!=typeof e&&(e=null),i(this).trumbowyg(e)})},uiApplyTabs:function(){var e=this;this.jElement.find(".ipt_uif_tabs").each(function(){var t={collapsible:!!i(this).data("collapsible"),show:200,create:function(t,a){e.settings.waypoints===!0&&a.panel.data("iptWaypoints",!0);for(var n=0,s=a.tab.parent(".ui-tabs-nav").find("> li");s.eq(n).hasClass("iptUIFCHidden");)if(n++,n>=s.length){n=0;break}i(this).tabs("option","active",n)},beforeActivate:function(i,t){t.newPanel.data("iptWaypoints")||e.settings.waypoints!==!0||t.newPanel.find(".ipt_uif_conditional").css({opacity:0}).removeClass("iptAnimated iptFadeInLeft")},activate:function(t,a){if(e.refreshiFrames.apply(a.oldPanel),e.refreshiFrames.apply(a.newPanel),!a.newPanel.data("iptWaypoints")&&e.settings.waypoints===!0){var n=a.newPanel.find(".ipt_uif_conditional");n.waypoint({handler:function(e){var t;"function"==typeof this.destroy?(t=i(this.element),t.css({opacity:""}).addClass("iptAnimated iptFadeInLeft"),setTimeout(function(){t.removeClass("iptAnimated iptFadeInLeft")},500),this.destroy()):(t=i(this),t.css({opacity:""}).addClass("iptAnimated iptFadeInLeft"),setTimeout(function(){t.removeClass("iptAnimated iptFadeInLeft")},500),t.waypoint("destroy"))},offset:"98%"}),a.newPanel.data("iptWaypoints",!0)}}};i(this).tabs(t),i(this).hasClass("vertical")&&(i(this).addClass("ui-tabs-vertical ui-helper-clearfix"),i(this).find("> ul > li").removeClass("ui-corner-top").addClass("ui-corner-left"))})},uiSDAinit:function(){var e=i(this),t=e.find("> .ipt_uif_sda_foot button.ipt_uif_sda_button"),a={sort:1==e.data("draggable"),add:1==e.data("addable"),del:1==e.data("addable"),count:t.length&&t.data("count")?t.data("count"):0,key:t.length&&t.data("key")?t.data("key"):"__KEY__",max:e.data("max"),min:e.data("min")};e.data("iptSDAdata",a);var n=e.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length;""!==a.max&&a.max>0&&n>=a.max&&t.hide(),""!==a.min&&a.min>0&&(n<=a.min?e.addClass("eform-sda-reached-min"):e.removeClass("eform-sda-reached-min")),0==n?e.addClass("ipt-uif-sda-empty"):e.removeClass("ipt-uif-sda-empty")},uiSDAsort:function(){var e=i(this),t=e.data("iptSDAdata");t.sort===!0&&e.find("> .ipt_uif_sda_body").sortable({items:"div.ipt_uif_sda_elem",placeholder:"ipt_uif_sda_highlight",handle:"div.ipt_uif_sda_drag",distance:5,axis:"y",start:function(i,e){e.placeholder.height(e.item.outerHeight())},helper:"original",cursor:"move",appendTo:e.closest(".ipt_uif_sda_body"),stop:function(i,t){e.trigger("refreshWaypoints.eform")}})},edRevealPassword:function(){var e=this,t=!1;this.jElement.on("mousedown",".ipt-eform-password .ipticm",function(){t=!0,i(this).removeClass("ipt-icomoon-eye").addClass("ipt-icomoon-eye-slash");var e=i(this).closest(".ipt-eform-password").find(".ipt_uif_password");e.attr("type","text")}),i("body").on("mouseup",function(){t&&(e.jElement.find(".ipt-eform-password").each(function(){var e=i(this);e.find(".ipticm").removeClass("ipt-icomoon-eye-slash").addClass("ipt-icomoon-eye"),e.find(".ipt_uif_password").attr("type","password")}),t=!1)})},edApplyCountry:function(){var e=this;this.jElement.on("change autocompletechange",".ipt-eform-address-country .ipt_uif_autocomplete",function(){e._updateProvince(i(this))})},initUIElementsDelegated:function(){this.edApplyHelp(),this.edApplyMessage(),this.edCheckboxToggler(),this.edSliderInput(),this.edDateTimeNow(),this.edApplyPrintElement(),this.edApplyConditionalInput(),this.edApplyConditionalSelect(),this.edApplyCollapsible(),this.edApplyScrollToTop(),this.edApplyRating(),this.edApplySmileyRating(),this.edApplyLikeDislikeRating(),this.edApplyUploader(),this.edTabToggler(),this.edApplyWayPoints(),this.edApplyjSignature(),this.edApplyTimeCircles(),this.edApplyMathematicalEvaluator(),this.edApplyTrumbowyg(),this.edApplyPopupICM(),this.edApplySelectMenu(),this.edRevealPassword(),this.edApplyCountry()},edApplySelectMenu:function(){"undefined"!=typeof i.fn.select2&&this.jElement.on("select2:close",".ipt_uif_select",function(e){i(this).validationEngine("validate")})},edApplyPopupICM:function(){this.jElement.on("click",".eform-icmpopup",function(n){n.preventDefault();var s=i(this).data("width"),o=i(this).data("height"),l=i(this).attr("href"),r=e.screenLeft!=a?e.screenLeft:screen.left,d=e.screenTop!=a?e.screenTop:screen.top,u=e.innerWidth?e.innerWidth:t.documentElement.clientWidth?t.documentElement.clientWidth:screen.width,c=e.innerHeight?e.innerHeight:t.documentElement.clientHeight?t.documentElement.clientHeight:screen.height,p=u/2-s/2+r,f=c/2-o/2+d,h=e.open(l,"eform-icmpopup","scrollbars=yes, width="+s+", height="+o+", top="+f+", left="+p);e.focus&&h.focus()})},edApplyTrumbowyg:function(){this.jElement.on("tbwblur",".ipt-eform-trumbowyg",function(e){i(this).trigger("change")})},edApplyMathematicalEvaluator:function(){if("undefined"!=typeof Parser){var e=this;this.jElement.on("change fsqm.mathematicalReEvaluate",function(t){var a=i(t.target);i(this).find(".ipt_uif_mathematical_input").each(function(){if(i(this).is(a))return!0;try{e.evaluateMathematicalFormula.apply(this,[e])}catch(i){e.debugLog(i,!0)}})})}},edApplyTimeCircles:function(){if("undefined"!=typeof i.fn.TimeCircles){var t=this.jElement;i(e).on("resize iptUIFCShow iptUIFCHide tabsactivate",i.debounce(250,function(){t.find(".ipt_uif_circle_timer").each(function(){i(this).TimeCircles().rebuild()})}))}},edApplyjSignature:function(){"undefined"!=typeof i.fn.jSignature&&(this.jElement.on("click",".ipt_uif_jsignature_undo",function(){i(this).closest(".ipt_uif_jsignature").find('.ipt_uif_jsignature_pad input[type="button"]').trigger("click")}),this.jElement.on("click",".ipt_uif_jsignature_reset",function(){i(this).closest(".ipt_uif_jsignature").find(".ipt_uif_jsignature_pad").jSignature("clear")}),this.jElement.on("change",".ipt_uif_jsignature_pad",function(e){var t=i(this),a=t.jSignature("getData","base30"),n=(a.join(","),t.siblings(".ipt_uif_jsignature_input").val(a));t.data("eFormjSignatureUpdating")||n.validationEngine("validate"),n.trigger("change").trigger("blur")}),this.jElement.on("iptUIFCShow tabsactivate fsqm.jSignatureRedraw",function(e){setTimeout(i.proxy(function(){i(this).find(".ipt_uif_jsignature_pad").each(function(){var t=i(this);if(t.is(":visible")&&"iptUIFCShow"===e.type&&!i(e.target).find(".ipt_uif_jsignature_pad").is(i(this)))return!0;if(0===t.closest('.ui-tabs-panel[aria-hidden="true"]').length&&0===t.closest(".iptUIFCHidden").length){var n=t.prev(".ipt_uif_jsignature_input").val();setTimeout(function(){var e=t.find("canvas").data("jSignature.this");t.data("eFormjSignatureUpdating",!0),e&&(e.$controlbarLower.remove(),e.$controlbarUpper.remove(),i(e.canvas).remove()),t.jSignature({lineWidth:2,UndoButton:!0}),""!==n&&null!==n&&n!==a&&"image/jsignature;base30,"!=n&&t.jSignature("setData",n,"base30"),t.data("eFormjSignatureUpdating",!1)},100)}})},this),500)}))},edApplyWayPoints:function(){this.jElement.on("iptUIFCHide iptUIFCShow iptUICollapsible refreshWaypoints.eform",function(){try{Waypoint.refreshAll()}catch(e){i.waypoints("refresh")}})},edApplyUploader:function(){"undefined"!=typeof i.fn.fileupload&&(this.jElement.on("dragover",".fileinput-dragdrop",function(){i(this).addClass("hover")}),this.jElement.on("dragleave",".fileinput-dragdrop",function(){i(this).removeClass("hover")}))},edApplySmileyRating:function(){this.jElement.on("change","input.ipt_uif_smiley_rating_radio",function(e){var t=i(this).closest(".ipt_uif_rating");i(this).is(":checked")&&t.find(".ipt_uif_smiley_rating_feedback_wrap")?t.addClass("ipt_uif_smiley_feedback_active"):t.removeClass("ipt_uif_smiley_feedback_active")}),this.jElement.on("fsqm.check_smiley",function(){i(this).find(".ipt_uif_rating_smiley").each(function(){i(this).find("input.ipt_uif_smiley_rating_radio:checked").length?i(this).addClass("ipt_uif_smiley_feedback_active"):i(this).removeClass("ipt_uif_smiley_feedback_active")})})},edApplyLikeDislikeRating:function(){this.jElement.on("change","input.ipt_uif_likedislike_rating_radio",function(e){var t=i(this).closest(".ipt_uif_rating");i(this).is(":checked")&&t.find(".ipt_uif_likedislike_rating_feedback_wrap")?t.addClass("ipt_uif_likedislike_feedback_active"):t.removeClass("ipt_uif_likedislike_feedback_active")}),this.jElement.on("fsqm.check_likedislike",function(){i(this).find("input.ipt_uif_likedislike_rating_radio:checked").length?i(this).addClass("ipt_uif_likedislike_feedback_active"):i(this).removeClass("ipt_uif_likedislike_feedback_active")})},edApplyRating:function(){this.jElement.on("mouseenter",".ipt_uif_rating label",function(){i(this).siblings("input").removeClass("active"),i(this).prevAll("input").addClass("hover")}),this.jElement.on("mouseleave",".ipt_uif_rating label",function(){i(this).prevAll("input").removeClass("hover"),i(this).siblings("input:checked").addClass("active").prevAll("input").addClass("active")}),this.jElement.on("change",".ipt_uif_rating input",function(){i(this).is(":checked")&&(i(this).nextAll("input").removeClass("active"),i(this).addClass("active"),i(this).prevAll("input").addClass("active"))})},edTabToggler:function(){this.jElement.on("click",".ipt_uif_tabs_toggler",function(e){e.preventDefault(),e.stopPropagation(),i(this).siblings(".ui-tabs-nav").toggleClass("ipt_uif_tabs_toggle_active")})},edApplyScrollToTop:function(){var e=this.jElement;this.jElement.on("click",".ipt_uif_scroll_to_top",function(t){t.preventDefault();var a=e.offset().top-10,n=parseFloat(i("html").css("margin-top"));isNaN(n)&&(n=0),n+=parseFloat(i("html").css("padding-top")),isNaN(n)&&0===n||(a-=n),i("html, body").animate({scrollTop:a},"fast")})},edApplyMessage:function(){this.jElement.on("click",".ipt_uif_message_close",function(e){e.preventDefault(),i(this).closest(".ipt_uif_message").fadeOut("fast")})},edApplyHelp:function(e){this.jElement.on("click",".ipt_uif_msg",function(e){e.preventDefault();var t,n,s=i(this).find(".ipt_uif_msg_icon"),o=s.attr("title");a!==o&&""!==o||(o=a!==(t=s.parent().parent().siblings("th").find("label").html())?t:iptPluginUIFAdmin.L10n.help),n=i('<div><div style="padding: 10px;">'+s.next(".ipt_uif_msg_body").html()+"</div></div>");var l={};l[iptPluginUIFAdmin.L10n.got_it]=function(){i(this).dialog("close")},n.dialog({autoOpen:!0,buttons:l,modal:!0,minWidth:600,closeOnEscape:!0,title:o,create:function(e,t){i("body").addClass("ipt_uif_common")},close:function(e,t){i("body").removeClass("ipt_uif_common")}})})},edCheckboxToggler:function(){this.jElement.on("change",".ipt_uif_checkbox_toggler",function(){var e=i(i(this).data("selector")),t=i(this);t.is(":checked")?e.prop("checked",!0):e.prop("checked",!1)})},edSliderInput:function(){this.jElement.on("blur fsqm.slider",".ipt_uif_slider",function(){var e,t,a,n,s=i(this),o=s.siblings(".ipt_uif_slider_count");s.hasClass("slider_range")?(e=s.siblings(".ipt_uif_slider_range_max"),t=e.siblings(".ipt_uif_slider_div"),a=[parseFloat(s.val()),parseFloat(e.val())],isNaN(a[0])&&(a[0]=0),isNaN(a[1])&&(a[1]=0),t.slider({values:a}),o.find("span.ipt_uif_slider_count_min").text(parseFloat(s.val()))):(t=s.siblings(".ipt_uif_slider_div"),n=parseFloat(s.val()),isNaN(n)&&(n=0),t.slider({value:n}),o.find("span").text(parseFloat(s.val())))}),this.jElement.on("blur fsqm.slider",".ipt_uif_slider_range_max",function(){var e=i(this),t=e.siblings(".ipt_uif_slider"),a=e.siblings(".ipt_uif_slider_div"),n=t.siblings(".ipt_uif_slider_count");a.slider({values:[parseFloat(t.val()),parseFloat(e.val())]}),n.find("span.ipt_uif_slider_count_max").text(parseFloat(e.val()))}),this.jElement.on("slide slidechange",".ipt_uif_slider_div",function(e,t){var a=i(this),n=a.siblings(".ipt_uif_slider_count"),s=a.siblings(".ipt_uif_slider"),o=a.siblings(".ipt_uif_slider_range_max");a.hasClass("ipt_uif_slider_range")?(s.val(t.values[0]).trigger("change").validationEngine("validate"),o.val(t.values[1]).trigger("change").validationEngine("validate"),n.length&&(n.find("span.ipt_uif_slider_count_min").text(t.values[0]),n.find("span.ipt_uif_slider_count_max").text(t.values[1]))):(s.val(t.value).trigger("change").validationEngine("validate"),n.length&&n.find("span").text(t.value))})},edApplySpinner:function(){this.jElement.on("mousewheel",".ipt_uif_uispinner",function(){i(this).trigger("change")})},edDateTimeNow:function(){this.jElement.on("click",".ipt_uif_datepicker_now",function(){i(this).nextAll(".ipt_uif_text").val("NOW")}),this.jElement.on("click",".ipt_fsqm_container_datetime .ipticm",function(){var e=i(this),t=e.closest(".ipt_fsqm_container_datetime").find(".ipt_uif_text");t.focus()}),this.jElement.on("click",".eform-dp-clear",function(e){e.preventDefault();var t=i(this),a=t.closest(".eform-dp-input-field"),n=a.find("input.datepicker");n.val(""),n.addClass("is-empty"),n.trigger("blur");try{n.validationEngine("validate")}catch(i){}})},edApplyPrintElement:function(){var e=this;this.jElement.on("click",".ipt_uif_printelement",function(){i("#"+i(this).data("printid")).printElement({leaveOpen:!0,printMode:"popup",printBodyOptions:{classNameToAdd:"ipt_uif_common "+e.ui_theme_id,styleToAdd:"padding:10px;margin:10px;background: #fff none;color:#333;font-size:12px;"},pageTitle:t.title})})},edApplyConditionalInput:function(){this.jElement.on("change",".ipt_uif_conditional_input",function(e){var t,a,n=i(this),s=n.find("input"),o=[],l=[];for(s.each(function(){t=i(this).data("condid"),t="string"==typeof t?t.split(","):[],i(this).is(":checked")?o.push.apply(o,t):l.push.apply(l,t)}),a=0;a<l.length;a++)i("#"+l[a]).stop(!0,!0).hide();for(a=0;a<o.length;a++)i("#"+o[a]).stop(!0,!0).fadeIn("fast")})},edApplyConditionalSelect:function(){this.jElement.on("change keyup",".ipt_uif_conditional_select",function(e){var t,a,n=i(this),s=n.find("select"),o=[],l=[];for(s.find("option").each(function(){t=i(this).data("condid"),t="string"==typeof t?t.split(","):[],i(this).is(":selected")?o.push.apply(o,t):l.push.apply(l,t)}),a=0;a<l.length;a++)i("#"+l[a]).stop(!0,!0).hide();for(a=0;a<o.length;a++)i("#"+o[a]).stop(!0,!0).fadeIn("fast")})},edApplyCollapsible:function(){var e=this;this.jElement.on("click",".ipt_uif_collapsible_handle_anchor",function(t){var a=i(this),n=a.closest(".ipt_uif_collapsible").find("> .ipt_uif_container_inner");n.closest(".ipt_uif_collapsible").toggleClass("ipt_uif_collapsible_open"),n.slideToggle("normal",function(){e.refreshiFrames(n),n.trigger("iptUICollapsible")})})},edSDAattachDel:function(){var e=this;this.jElement.on("click",".ipt_uif_sda_del",function(t){t.preventDefault(),i(this).closest(".ipt_uif_sda").hasClass("eform-sda-reached-min")||e.edSDAdel(i(this))})},edSDAdel:function(i){var e=this,t=i.closest(".ipt_uif_sda_elem"),a=i.closest(".ipt_uif_sda"),n=a.find("> .ipt_uif_sda_foot button.ipt_uif_sda_button"),s=a.data("iptSDAdata"),o=0;t.slideUp("fast",function(){t.stop().remove(),o=a.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length,""!==s.max&&s.max>0&&o<s.max&&n.show(),""!==s.min&&s.min>0&&(o<=s.min?a.addClass("eform-sda-reached-min"):a.removeClass("eform-sda-reached-min")),0==o?a.addClass("ipt-uif-sda-empty"):a.removeClass("ipt-uif-sda-empty"),a.trigger("fsqm.conditional").trigger("fsqm.mathematicalReEvaluate"),e.jElement.trigger("refreshWaypoints.eform")}).css({opacity:1}).animate({opacity:0},"fast")},edSDAattachAdd:function(){var e=this;this.jElement.on("click",".ipt_uif_sda_foot button.ipt_uif_sda_button",function(t){t.preventDefault();var a,n=i(this),s=n.closest(".ipt_uif_sda"),o=s.data("iptSDAdata"),l=s.find("> .ipt_uif_sda_data").text(),r=o.count++,d=new RegExp(e.quote(o.key),"g");l=i("<div></div>").html(l).text(),l=l.replace(d,r),a=i('<div class="ipt_uif_sda_elem" />').append(i(l)),s.find("> .ipt_uif_sda_body").append(a),a.iptPluginUIFFront({applyUIOnly:!0}),a.hide().slideDown("fast").css({opacity:0}).animate({opacity:1},"fast",function(){var e=a.find("input, select, textarea").eq(0);e.focus(),e.is("input")&&(e.addClass("tabbed"),e.one("blur",function(){i(this).removeClass("tabbed")}))}),n.data("count",o.count),n.attr("data-count",o.count);var u=s.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length;""!==o.max&&o.max>0&&u>=o.max&&n.hide(),""!==o.min&&o.min>0&&(u<=o.min?s.addClass("eform-sda-reached-min"):s.removeClass("eform-sda-reached-min")),0==u?s.addClass("ipt-uif-sda-empty"):s.removeClass("ipt-uif-sda-empty"),s.trigger("fsqm.conditional").trigger("fsqm.mathematicalReEvaluate"),e.jElement.trigger("refreshWaypoints.eform")})},evaluateMathematicalFormula:function(e){var t,n=i(this),s=n.data("formula");if(s){var o=n.data("precision"),l=n.data("options"),r=n.data("noanim");l||(l={});var d=Parser.parse(s.toString()).simplify(),u=d.variables(),c={};for(t in u)c[u[t]]=e.getMathematicalValue.apply(e,[u[t]]);var p,f;try{p=d.evaluate(c)}catch(i){p=0}if(isNaN(p)&&(p=0),""===o?o=e.decimalPlaces(p):(o=e.intelParseFloat(o),p=p.toFixed(o)),f=n.val(),n.val(p),f!=p){n.trigger("fsqm.conditional").trigger("fsqm.mathematicalReEvaluate").trigger("change");var h=i(this).next("span.ipt_uif_mathematical_span");if(h.length&&!1===r){var _=null,m=h.data("iptUIFMathCU");m!==a&&m.reset(),_=h.data("iptUIFMathPV"),_&&_!==a||(_=e.intelParseFloat(h.text())),isFinite(_)||(_=0),m=new CountUp(h.get(0),_,e.intelParseFloat(p),o,2,l),m.start(),h.data("iptUIFMathCU",m)}else h.length&&h.html(e.formatNumber(p,o,l.decimal,l.useGrouping,l.separator));h.data("iptUIFMathPV",e.intelParseFloat(p))}}},getMathematicalValue:function(e){var t=this.jElement,n=this,s=t.data("iptFSQMMathVarToElem");if(s||(t.data("iptFSQMMathVarToElem",{}),s={}),s[e]===a){var o=/([MFO])(\d+)((R)(\d+))?((C)(\d+))?/gi,l=o.exec(e),r={M:"mcq",F:"freetype",O:"pinfo"};if(null!==l&&r[l[1]]!==a){var d=t.find('[name="form_id"]').val(),u="ipt_fsqm_form_"+d+"_"+r[l[1]]+"_"+l[2],c=i("#ipt_fsqm_form_"+d+"_"+r[l[1]]+"_"+l[2]+"_type").val();s[e]={elem:i("#"+u),parts:l,type:c}}}if(s[e]===a)return 0;if(s[e].elem.hasClass("iptUIFCHidden"))return 0;var p,f,h,_,m=0;switch(s[e].type){case"radio":case"p_radio":case"checkbox":case"p_checkbox":case"thumbselect":s[e].elem.find("input").filter(":checked").each(function(){f=n.intelParseFloat(i(this).data("num")),m+=f});break;case"select":case"p_select":s[e].elem.find("select > option:selected").each(function(){f=n.intelParseFloat(i(this).data("num")),m+=f});break;case"slider":m+=n.intelParseFloat(s[e].elem.find("input.ipt_uif_slider").val());break;case"range":_=s[e].parts[8],m+=a==_||0==_?n.intelParseFloat(s[e].elem.find("input.ipt_uif_slider").val()):n.intelParseFloat(s[e].elem.find("input.ipt_uif_slider_range_max").val());break;case"grading":p=s[e].parts[5],_=s[e].parts[8],p===a?a==_||0==_?s[e].elem.find("input.ipt_uif_slider").each(function(){m+=n.intelParseFloat(i(this).val())}):s[e].elem.find("input.ipt_uif_slider_range_max").each(function(){m+=n.intelParseFloat(i(this).val())}):m+=a==_||0==_?n.intelParseFloat(s[e].elem.find("input.ipt_uif_slider").eq(p).val()):n.intelParseFloat(s[e].elem.find("input.ipt_uif_slider_range_max").eq(p).val());break;case"starrating":case"scalerating":p=s[e].parts[5],p===a?s[e].elem.find(".ipt_uif_rating").each(function(){m+=n.intelParseFloat(i(this).find("input:checked").val())}):m+=n.intelParseFloat(s[e].elem.find(".ipt_uif_rating").eq(p).find("input:checked").val());break;case"spinners":p=s[e].parts[5],p===a?s[e].elem.find("input.ipt_uif_uispinner").each(function(){m+=n.intelParseFloat(i(this).val())}):m+=n.intelParseFloat(s[e].elem.find("input.ipt_uif_uispinner").eq(p).val());break;case"feedback_small":case"textinput":case"keypad":m+=n.intelParseFloat(s[e].elem.find("input.ipt_uif_text").val());break;case"mathematical":m+=n.intelParseFloat(s[e].elem.find("input.ipt_uif_mathematical_input").val());break;case"toggle":m=s[e].elem.find("input.ipt_uif_switch").is(":checked")?1:0;break;case"s_checkbox":m=s[e].elem.find("input.ipt_uif_checkbox").is(":checked")?1:0;break;case"smileyrating":var g=s[e].elem.find("input.ipt_uif_radio").filter(":checked");m=g.length?n.intelParseFloat(g.data("num")):0;break;case"likedislike":var v=s[e].elem.find("input.ipt_uif_radio").filter(":checked").val();m="like"==v?1:0;break;case"matrix_dropdown":m=0,h=s[e].parts[5],_=s[e].parts[8],h!==a&&_!==a?s[e].elem.find("tbody > tr").eq(h).find("select.ipt_uif_select").eq(_).find("option:selected").each(function(){m+=n.intelParseFloat(i(this).data("num"))}):h!==a&&_===a?s[e].elem.find("tbody > tr").eq(h).find("select.ipt_uif_select").find("option:selected").each(function(){m+=n.intelParseFloat(i(this).data("num"))}):h===a&&_!==a?s[e].elem.find("tbody > tr").each(function(){
i(this).find("select.ipt_uif_select").eq(_).find("option:selected").each(function(){m+=n.intelParseFloat(i(this).data("num"))})}):s[e].elem.find("select.ipt_uif_select").find("option:selected").each(function(){m+=n.intelParseFloat(i(this).data("num"))});break;case"matrix":h=s[e].parts[5],_=s[e].parts[8],m=0,h!==a&&_!==a?s[e].elem.find("tbody > tr").eq(h).find(".ipt_uif_radio , .ipt_uif_checkbox").eq(_).filter(":checked").each(function(){m+=n.intelParseFloat(i(this).data("num"))}):h!==a&&_===a?s[e].elem.find("tbody > tr").eq(h).find(".ipt_uif_radio , .ipt_uif_checkbox").filter(":checked").each(function(){m+=n.intelParseFloat(i(this).data("num"))}):h===a&&_!==a?s[e].elem.find("tbody > tr").each(function(){i(this).find(".ipt_uif_radio , .ipt_uif_checkbox").eq(_).filter(":checked").each(function(){m+=n.intelParseFloat(i(this).data("num"))})}):s[e].elem.find(".ipt_uif_radio , .ipt_uif_checkbox").filter(":checked").each(function(){m+=n.intelParseFloat(i(this).data("num"))});break;case"repeatable":h=s[e].parts[5],_=s[e].parts[8],m=0,h!==a&&_!==a?s[e].elem.find(".ipt_uif_sda_elem").eq(h).find("> .ipt_uif_column").eq(_).each(function(){m+=n._repeatableMathematicalValue(i(this))}):h!==a&&_===a?s[e].elem.find(".ipt_uif_sda_elem").eq(h).each(function(){m+=n._repeatableMathematicalValue(i(this))}):h===a&&_!==a?s[e].elem.find(".ipt_uif_sda_elem").each(function(){i(this).find("> .ipt_uif_column").eq(_).each(function(){m+=n._repeatableMathematicalValue(i(this))})}):m+=n._repeatableMathematicalValue(s[e].elem);break;case"datetime":m=s[e].elem.find(".ipt_uif_datepicker, .ipt_uif_datetimepicker").val(),m?(m=new Date(m.replace(/-/g,"/")),m=Math.floor(m/864e5)):m=0;break;default:n.debugLog("Error! Element not supported by mathematical evaluator. Element variable: "+e,!0),m=0}return t.data("iptFSQMMathVarToElem",s),m},testImage:function(i){return/\.(gif|jpg|jpeg|tiff|png)$/i.test(i)},quote:function(i){return i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},stripTags:function(e){var t=i("<div />"),a="";return t.html(e),a=t.text(),t.remove(),a},intelParseFloat:function(i,e){e===a&&(e=0);var t=parseFloat(i);return isNaN(t)&&(t=e),t},isNumeric:function(i){return!isNaN(parseFloat(i))&&isFinite(i)},decimalPlaces:function(i){var e=(""+i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_repeatableMathematicalValue:function(e){var t=0,a=this;return e.find('input[type="radio"], input[type="checkbox"]').filter(":checked").each(function(){t+=a.intelParseFloat(i(this).data("num"))}),e.find("select option").filter(":selected").each(function(){t+=a.intelParseFloat(i(this).data("num"))}),e.find("input.ipt_uif_text").each(function(){t+=a.intelParseFloat(i(this).val())}),t},formatNumber:function(i,e,t,n,s){e=isNaN(e=Math.abs(e))?2:e,t=t===a?".":t,s=s===a?",":s,n=n===a||n,n!==!0&&(s="");var o=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(e),10)+"",r=(r=l.length)>3?r%3:0;return o+(r?l.substr(0,r)+s:"")+l.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+s)+(e?t+Math.abs(i-l).toFixed(e).slice(2):"")},refreshiFrames:function(){var t=i(this);if(t.find("iframe").each(function(){i(this).closest(".g-recaptcha").length||i(this).attr("src",i(this).attr("src"))}),t.find("video").each(function(){try{this.pause()}catch(i){console&&console.log&&console.log(i)}}),a!=e.mejs)try{i(".wp-video-shortcode").each(function(){var t=i(this),a=t.attr("width"),n=t.attr("height"),s=t.closest(".mejs-container").attr("id"),o=e.mejs.players[s];o.setPlayerSize(a,n)})}catch(i){console.log(i)}},dates:{convert:function(i){return i.constructor===Date?i:i.constructor===Array?new Date(i[0],i[1],i[2]):i.constructor===Number?new Date(i):i.constructor===String?new Date(i):"object"==typeof i?new Date(i.year,i.month,i.date):NaN},compare:function(i,e){return isFinite(i=this.convert(i).valueOf())&&isFinite(e=this.convert(e).valueOf())?(i>e)-(i<e):NaN},inRange:function(i,e,t){return isFinite(i=this.convert(i).valueOf())&&isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())?e<=i&&i<=t:NaN}},_updateProvince:function(e,t){a===t&&(t=!1);var n,s,o=null,l=null,r=this;if(t)s=e,l=s.data("presetCountry");else{if(o=e.val(),!o||""===o)return;if(s=e.closest(".ipt_fsqm_container_address").find(".ipt-eform-address-province .ipt_uif_autocomplete"),!s.length)return;for(n in this.countryList)if(o==this.countryList[n]){l=n;break}}return null==l?void s.autocomplete("option","source",[]):a!==this.provinceCache[l]?void s.autocomplete("option","source",this.provinceCache[l]):(s.parent().addClass("working"),void i.getJSON(iptPluginUIFFront.ajaxurl,{action:"eform_countryjs_plist",country:l},function(i,e){r.provinceCache[l]=i,s.autocomplete("option","source",r.provinceCache[l])}).fail(function(){s.autocomplete("option","source",[])}).always(function(){s.parent().removeClass("working")}))},yourOtherFunction:function(){}};var l={init:function(e){return this.each(function(){i.data(this,"plugin_"+s)||i.data(this,"plugin_"+s,new n(this,e))})},refreshiFrames:function(){var e=i(this);return e.find("iframe").each(function(){i(this).closest(".g-recaptcha").length||i(this).attr("src",i(this).attr("src"))}),e.find("video").each(function(){try{this.pause()}catch(i){console&&console.log&&console.log(i)}}),this}};i.fn[s]=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):("object"!=typeof e&&e?i.error("Method "+e+" does not exist on jQuery."+s):l.init.apply(this,arguments),this)}}(jQuery,window,document);
//# sourceMappingURL=jquery.ipt-plugin-uif-front.min.js.map