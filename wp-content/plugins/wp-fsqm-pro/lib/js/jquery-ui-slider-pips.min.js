!function(e){"use strict";var i={pips:function(i){function l(i){var l,s,t,a,n,r=[],o=0;if(p.values()&&p.values().length){for(t=p.values(),a=e.map(t,function(e){return Math.abs(e-i)}),n=Math.min.apply(Math,a),l=0;l<a.length;l++)a[l]===n&&r.push(l);for(o=r[0],s=0;s<r.length;s++)p._lastChangedValue===r[s]&&(o=r[s]);p.options.range&&2===r.length&&(i>t[1]?o=r[1]:i<t[0]&&(o=r[0]))}return o}function s(i,s){if(!p.option("disabled")){var t=e(i).data("value"),a=l(t);p.values()&&p.values().length?p.options.values[a]=p._trimAlignValue(t):p.options.value=p._trimAlignValue(t),p._refreshValue(),p._change(s,a)}}function t(i){var l,s,t=i,n="ui-slider-pip",r="",o=p.value(),d=p.values();"first"===i?t=0:"last"===i&&(t=c);var u=f+p.options.step*t,v=u.toString().replace(".","-");if(l="array"===e.type(h.labels)?h.labels[t]||"":"object"===e.type(h.labels)?"first"===i?h.labels.first||"":"last"===i?h.labels.last||"":"array"===e.type(h.labels.rest)?h.labels.rest[t-1]||"":u:u,"first"===i?(s="0%",n+=" ui-slider-pip-first",n+="label"===h.first?" ui-slider-pip-label":"",n+=!1===h.first?" ui-slider-pip-hide":""):"last"===i?(s="100%",n+=" ui-slider-pip-last",n+="label"===h.last?" ui-slider-pip-label":"",n+=!1===h.last?" ui-slider-pip-hide":""):(s=(100/c*i).toFixed(4)+"%",n+="label"===h.rest?" ui-slider-pip-label":"",n+=!1===h.rest?" ui-slider-pip-hide":""),n+=" ui-slider-pip-"+v,d&&d.length){for(a=0;a<d.length;a++)u===d[a]&&(n+=" ui-slider-pip-initial-"+(a+1),n+=" ui-slider-pip-selected-"+(a+1));p.options.range&&u>d[0]&&u<d[1]&&(n+=" ui-slider-pip-inrange")}else u===o&&(n+=" ui-slider-pip-initial",n+=" ui-slider-pip-selected"),p.options.range&&("min"===p.options.range&&o>u||"max"===p.options.range&&u>o)&&(n+=" ui-slider-pip-inrange");return r="horizontal"===p.options.orientation?"left: "+s:"bottom: "+s,'<span class="'+n+'" style="'+r+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+u+'">'+h.formatLabel(l)+"</span></span>"}var a,n,r,o,d,p=this,u="",f=p._valueMin(),c=(p._valueMax()-f)/p.options.step,v=p.element.find(".ui-slider-handle"),h={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:c>100?Math.floor(.05*c):1,formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"!==e.type(i)&&"undefined"!==e.type(i))return void("destroy"===i?function(){p.element.off(".selectPip").on("mousedown.slider",p.element.data("mousedown-original")).removeClass("ui-slider-pips").find(".ui-slider-pip").remove()}():"refresh"===i&&p.element.slider("pips",p.element.data("pips-options")));e.extend(h,i),p.element.data("pips-options",h),p.options.pipStep=Math.round(h.step),p.element.off(".selectPip").addClass("ui-slider-pips").find(".ui-slider-pip").remove();var m={single:function(i){this.resetClasses(),d.filter(".ui-slider-pip-"+this.classLabel(i)).addClass("ui-slider-pip-selected"),p.options.range&&d.each(function(l,s){var t=e(s).children(".ui-slider-label").data("value");("min"===p.options.range&&i>t||"max"===p.options.range&&t>i)&&e(s).addClass("ui-slider-pip-inrange")})},range:function(i){for(this.resetClasses(),a=0;a<i.length;a++)d.filter(".ui-slider-pip-"+this.classLabel(i[a])).addClass("ui-slider-pip-selected-"+(a+1));p.options.range&&d.each(function(l,s){var t=e(s).children(".ui-slider-label").data("value");t>i[0]&&t<i[1]&&e(s).addClass("ui-slider-pip-inrange")})},classLabel:function(e){return e.toString().replace(".","-")},resetClasses:function(){d.removeClass(function(e,i){return(i.match(/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi)||[]).join(" ")})}};for(u+=t("first"),r=1;c>r;r++)r%p.options.pipStep==0&&(u+=t(r));for(u+=t("last"),p.element.append(u),d=p.element.find(".ui-slider-pip"),o=e._data(p.element.get(0),"events").mousedown&&e._data(p.element.get(0),"events").mousedown.length?e._data(p.element.get(0),"events").mousedown:p.element.data("mousedown-handlers"),p.element.data("mousedown-handlers",o.slice()),n=0;n<o.length;n++)"slider"===o[n].namespace&&p.element.data("mousedown-original",o[n].handler);p.element.off("mousedown.slider").on("mousedown.selectPip",function(i){var t=e(i.target),a=l(t.data("value")),n=v.eq(a);n.addClass("ui-state-active"),t.is(".ui-slider-label")?(s(t,i),p.element.one("mouseup.selectPip",function(){n.removeClass("ui-state-active").focus()})):p.element.data("mousedown-original")(i)}),p.element.on("slide.selectPip slidechange.selectPip",function(i,l){var s=e(this),t=s.slider("value"),a=s.slider("values");l&&(t=l.value,a=l.values),p.values()&&p.values().length?m.range(a):m.single(t)})},float:function(i){function l(i){var l=[],r=e.map(i,function(e){return Math.ceil((e-a)/t.options.step)});if("array"===e.type(u.labels))for(s=0;s<i.length;s++)l[s]=u.labels[r[s]]||i[s];else if("object"===e.type(u.labels))for(s=0;s<i.length;s++)i[s]===a?l[s]=u.labels.first||a:i[s]===n?l[s]=u.labels.last||n:"array"===e.type(u.labels.rest)?l[s]=u.labels.rest[r[s]-1]||i[s]:l[s]=i[s];else for(s=0;s<i.length;s++)l[s]=i[s];return l}var s,t=this,a=t._valueMin(),n=t._valueMax(),r=t._value(),o=t._values(),d=[],p=t.element.find(".ui-slider-handle"),u={handle:!0,pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"!==e.type(i)&&"undefined"!==e.type(i))return void("destroy"===i?function(){t.element.off(".sliderFloat").removeClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove()}():"refresh"===i&&t.element.slider("float",t.element.data("float-options")));if(e.extend(u,i),t.element.data("float-options",u),a>r&&(r=a),r>n&&(r=n),o&&o.length)for(s=0;s<o.length;s++)o[s]<a&&(o[s]=a),o[s]>n&&(o[s]=n);if(t.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),u.handle)for(d=l(t.values()&&t.values().length?o:[r]),s=0;s<d.length;s++)p.eq(s).append(e('<span class="ui-slider-tip">'+u.formatLabel(d[s])+"</span>"));u.pips&&t.element.find(".ui-slider-label").each(function(i,s){var t,a=e(s),n=[a.data("value")];t=u.formatLabel(l(n)[0]),e('<span class="ui-slider-tip-label">'+t+"</span>").insertAfter(a)}),"slide"!==u.event&&"slidechange"!==u.event&&"slide slidechange"!==u.event&&"slidechange slide"!==u.event&&(u.event="slidechange slide"),t.element.off(".sliderFloat").on(u.event+".sliderFloat",function(i,s){var t="array"===e.type(s.value)?s.value:[s.value],a=u.formatLabel(l(t)[0]);e(s.handle).find(".ui-slider-tip").html(a)})}};e.extend(!0,e.ui.slider.prototype,i)}(jQuery);