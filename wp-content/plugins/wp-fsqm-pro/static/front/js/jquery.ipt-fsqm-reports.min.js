/*!
* eForm - WordPress Form Builder
*
* Autogenerated by Grunt on: 2017-09-22
* @version 3.8.0
* @author Swashata Ghosh (WPQuark)
* @license GPL-3.0
*/
/**
 * Report generator for FSQM Reports & Analysis
 *
 * @dependency jquery, google charts
 *
 * @author     Swashata@iPanelThemes.com
 * @version 2.0.0
 * @license    Themeforest Split
 */
!function(e,t,a,n){"use strict";function i(t,a){this.element=t,this.jElement=e(t),this.settings=e.extend({},o,a),this._defaults=o,this._name=r,this.init()}google.charts.load("current",{packages:["corechart","bar"]});var s=!1;google.charts.setOnLoadCallback(function(){s=!0});var r="iptFSQMReport",o={settings:{},survey:{},feedback:{},pinfo:{},filters:{},wpnonce:"",ajaxurl:"",form_id:0,do_data:!1,do_data_nonce:"",do_names:!1,do_names_nonce:"",do_others:!1,do_others_nonce:"",do_date:!1,do_date_nonce:"",cmeta:{},material:!1,action:"ipt_fsqm_report",query_elements:{},sensitive_data:!1,sensitive_data_nonce:""};i.prototype={init:function(){"undefined"==typeof wp||void 0===wp.customize?(this.progressBar=this.jElement.find(".ipt_fsqm_report_progressbar").eq(0).progressbar(),this.loader=this.jElement.find(".ipt_fsqm_report_ajax").eq(0),this.printer=this.jElement.next(".ipt_fsqm_report_print"),this.jElement.data("ipt_fsqm_report_op",this.settings),this.generateReport(0)):console&&console.warn&&console.warn("Customizer Detected. Shutting Down FSQM Reports")},generateReport:function(t){var a=this;this.settings;e.post(this.settings.ajaxurl,{action:this.settings.action,settings:this.settings.settings,wpnonce:this.settings.wpnonce,form_id:this.settings.form_id,do_data:this.settings.do_data,do_data_nonce:this.settings.do_data_nonce,sensitive_data:this.settings.sensitive_data,sensitive_data_nonce:this.settings.sensitive_data_nonce,do_names:this.settings.do_names,do_names_nonce:this.settings.do_names_nonce,do_others:this.settings.do_others,do_others_nonce:this.settings.do_others_nonce,do_date:this.settings.do_date,do_date_nonce:this.settings.do_date_nonce,query_elements:this.settings.query_elements,filters:this.settings.filters,doing:t},function(e){if(null===e)return a.loader.find(".ipt_uif_ajax_loader_icon").removeClass("ipt_uif_ajax_loader_spin"),void a.loader.find(".ipt_uif_ajax_loader_text").text("ServerSide Error");a.saveResponse(e);try{a.progressBar.progressbar("option","value",a.numberFormat(e.done))}catch(t){a.progressBar.progressbar(),a.progressBar.progressbar("option","value",a.numberFormat(e.done))}e.done>=100?a.initCharts():a.generateReport(++t)},"json").fail(function(e,t,n){a.loader.find(".ipt_uif_ajax_loader_inner").removeClass("ipt_uif_ajax_loader_animate"),a.loader.find(".ipt_uif_ajax_loader_text").text("HTTP ERROR: "+t+" "+n)})},saveResponse:function(a){var n,i,s,r,o,d,p,l,u,c,g,f,v,_,h,m,y,b,w,k,x,C,F,R,S,M,Q,T,q,j,A,N,P,z,E,B,L,O,D,I,H=this,V=this.settings;for(g in V.survey.elements)if(void 0!==a.survey[g]&&null!==a.survey[g])switch(void 0!==V.survey.data[g]&&"object"===e.type(V.survey.data[g])||(V.survey.data[g]={}),s=H.jElement.find(".ipt_fsqm_report_survey_"+g+" table.table_to_update").eq(0),r=s.find("td.data table"),o=s.next("div").find("table.others"),0===r.length&&(r=s),V.survey.elements[g].type){default:void 0!==iptFSQMReport.callbacks[V.survey.elements[g].type]&&"function"==typeof t[iptFSQMReport.callbacks[V.survey.elements[g].type]]&&t[iptFSQMReport.callbacks[V.survey.elements[g].type]].apply(H,[V.survey.elements[g],V.survey.data[g],a.survey[g],g,s,r,V]);break;case"radio":case"checkbox":case"select":case"thumbselect":case"pricing_table":for(u in a.survey[g])if("others_data"==u&&V.do_others){if(void 0!==a.survey[g].others_data&&a.survey[g].others_data.length)for(c in a.survey[g].others_data)i=a.survey[g].others_data[c],(d=o.find("tbody")).find("tr.empty").remove(),(p=e("<tr />")).append("<th>"+i.value+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&p.append("<td>"+i.email+"</td>"),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p)}else void 0!==V.survey.data[g][u]&&null!==V.survey.data[g][u]||(V.survey.data[g][u]=0),n=a.survey[g][u],isNaN(n)||(V.survey.data[g][u]+=n,V.do_data&&H.updateCount(r.find("td.data_op_"+u),V.survey.data[g][u]));break;case"slider":H.calculateSlider(a.survey[g],V.survey.data[g],r,r.find("tbody"),null,"slider_value_to_count_tr","slider_value_to_count",r.find("> tfoot > tr > th:first-child"),V.survey.elements[g].settings);break;case"range":H.calculateRange(a.survey[g],V.survey.data[g],r,r.find("tbody"),null,"range_value_to_count_tr","range_value_to_count",r.find("> tfoot > tr > th:first-child"),V.survey.elements[g].settings);break;case"grading":for(u in a.survey[g])"object"!=typeof V.survey.elements[g].settings.options[u]&&(V.survey.elements[g].settings.options[u]={label:V.survey.elements[g].settings.options[u],prefix:"",suffix:""}),V.do_data&&((f=r.find("tr.grading_"+u+".head")).length||(f=e('<tr class="grading_'+u+' head"><th class="head_th" rowspan="1">'+V.survey.elements[g].settings.options[u].label+"</th><th>"+iptFSQMReport.grading+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(f),f.after('<tr class="grading_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg">0</span></th><th>'+(V.survey.elements[g].settings.range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>"))),void 0!==V.survey.data[g][u]&&null!==V.survey.data[g][u]||(V.survey.data[g][u]={}),V.survey.elements[g].settings.prefix=V.survey.elements[g].settings.options[u].prefix,V.survey.elements[g].settings.suffix=V.survey.elements[g].settings.options[u].suffix,v=[a.survey[g][u],V.survey.data[g][u],r,r.find("tbody"),f,"grading_"+u+"_value_to_count_tr","grading_"+u+"_value_to_count",r.find("tr.grading_"+u+"_avg th"),V.survey.elements[g].settings],V.survey.elements[g].settings.range?H.calculateRange.apply(H,v):H.calculateSlider.apply(H,v),V.do_data&&f.find("th.head_th").attr("rowspan",r.find("tr.grading_"+u+"_value_to_count_tr").length+1);break;case"spinners":for(u in a.survey[g])V.do_data&&((f=r.find("tr.spinners_"+u+".head")).length||(f=e('<tr class="spinners_'+u+' head"><th class="head_th" rowspan="1">'+V.survey.elements[g].settings.options[u].label+"</th><th>"+iptFSQMReport.value+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(f),f.after('<tr class="spinners_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg">0</span></th><th>'+(V.survey.elements[g].settings.show_range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>"))),void 0===V.survey.data[g][u]&&(V.survey.data[g][u]={}),v=[a.survey[g][u],V.survey.data[g][u],r,r.find("tbody"),f,"spinners_"+u+"_value_to_count_tr","spinners_"+u+"_value_to_count",r.find("tr.spinners_"+u+"_avg th"),V.survey.elements[g].settings],H.calculateSlider.apply(H,v),V.do_data&&f.find("th.head_th").attr("rowspan",r.find("tr.spinners_"+u+"_value_to_count_tr").length+1);break;case"starrating":case"scalerating":for(u in a.survey[g])V.do_data?(f=r.find("tr.rating_"+u+".head")).length||(f=e('<tr class="rating_'+u+' head"><th class="head_th" rowspan="1">'+V.survey.elements[g].settings.options[u]+"</th><th>"+iptFSQMReport.rating+"</th><th>"+iptFSQMReport.count+"</th></tr>"),r.find("tbody").append(f),f.after('<tr class="rating_'+u+'_avg avg head"><th>'+iptFSQMReport.avg+' <span class="avg_count">0</span> '+iptFSQMReport.avg_count+'</th><th><span class="avg_img"></span></th><th><span class="avg">0</span> '+(V.survey.elements[g].settings.show_range?iptFSQMReport.avg_range:iptFSQMReport.avg_slider)+"</th></tr>")):f=null,void 0===V.survey.data[g][u]&&(V.survey.data[g][u]={}),v=[a.survey[g][u],V.survey.data[g][u],r,r.find("tbody"),f,"rating_"+u+"_value_to_count_tr","rating_"+u+"_value_to_count",r.find("tr.rating_"+u+"_avg th"),V.survey.elements[g].settings],H.calculateRating.apply(H,v),V.do_data&&f.find("th.head_th").attr("rowspan",r.find("tr.rating_"+u+"_value_to_count_tr").length+1);break;case"smileyrating":for(_ in a.survey[g])if("feedback_data"==_&&V.do_others){if(void 0!==a.survey[g].feedback_data&&a.survey[g].feedback_data.length)for(h in a.survey[g].feedback_data)i=a.survey[g].feedback_data[h],p=e("<tr>"),(d=o.find("tbody")).find("tr.empty").remove(),p.append("<th>"+i.entry+"</th>"),p.append("<td>"+i.rating+"</td>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&p.append("<td>"+i.email+"</td>"),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p)}else void 0===V.survey.data[g][_]&&(V.survey.data[g][_]=0),V.survey.data[g][_]+=a.survey[g][_],V.do_data&&H.updateCount(r.find("td."+_),V.survey.data[g][_]);break;case"likedislike":for(_ in a.survey[g])if("feedback_data"==_&&V.do_others){if(void 0!==a.survey[g].feedback_data&&a.survey[g].feedback_data.length)for(h in a.survey[g].feedback_data)i=a.survey[g].feedback_data[h],p=e("<tr>"),(d=o.find("tbody")).find("tr.empty").remove(),p.append("<th>"+i.entry+"</th>"),p.append("<td>"+i.rating+"</td>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&p.append("<td>"+i.email+"</td>"),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p)}else void 0===V.survey.data[g][_]&&(V.survey.data[g][_]=0),V.survey.data[g][_]+=a.survey[g][_],V.do_data&&r.find("td."+_).html(V.survey.data[g][_]);break;case"matrix_dropdown":for(m in a.survey[g]){void 0===V.survey.data[g][m]&&(V.survey.data[g][m]={});for(y in a.survey[g][m]){void 0===V.survey.data[g][m][y]&&(V.survey.data[g][m][y]={});for(u in a.survey[g][m][y])void 0===V.survey.data[g][m][y][u]&&(V.survey.data[g][m][y][u]=0),e.isNumeric(a.survey[g][m][y][u])&&(V.survey.data[g][m][y][u]+=a.survey[g][m][y][u]),V.do_data&&s.find("td.row-"+m+"-column-"+y+"-op-"+u).html(V.survey.data[g][m][y][u])}}break;case"matrix":for(m in a.survey[g]){void 0===V.survey.data[g][m]&&(V.survey.data[g][m]={});for(y in a.survey[g][m])isNaN(a.survey[g][m][y])||(void 0===V.survey.data[g][m][y]?V.survey.data[g][m][y]=a.survey[g][m][y]:V.survey.data[g][m][y]+=a.survey[g][m][y],V.do_data&&H.updateCount(r.find("td.row_"+m+"_col_"+y),V.survey.data[g][m][y]))}break;case"toggle":for(b in a.survey[g])isNaN(a.survey[g][b])||(void 0===V.survey.data[g][b]?V.survey.data[g][b]=a.survey[g][b]:V.survey.data[g][b]+=a.survey[g][b],V.do_data&&H.updateCount(r.find("td.data_op_"+b),V.survey.data[g][b]));break;case"sorting":for(_ in a.survey[g])if(w=H.objectLength(V.survey.elements[g].settings.options),isNaN(a.survey[g][_])){if("orders"==_&&"object"==typeof a.survey[g][_])for(k in a.survey[g][_])if(""!==k){if(void 0===V.survey.data[g].orders[k]){if(V.survey.data[g].orders[k]=a.survey[g][_][k],V.do_data){x=k.split("-"),r.find("tbody tr").length&&r.find("tbody").append('<tr class="head"><th colspan="3"></th></tr>'),C=!0;for(u in x)void 0!==V.survey.elements[g].settings.options[x[u]]&&(l="",!0===C?(C=!1,l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+V.survey.elements[g].settings.options[x[u]].label+'</th><td rowspan="'+w+'" data="'+k+'"></td></tr>'):l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+V.survey.elements[g].settings.options[x[u]].label+"</th>",r.find("tbody").append(l))}}else V.survey.data[g].orders[k]+=a.survey[g][_][k];V.do_data&&H.updateCount(r.find('td[data="'+k+'"]'),V.survey.data[g].orders[k])}}else void 0===V.survey.data[g][_]?V.survey.data[g][_]=a.survey[g][_]:V.survey.data[g][_]+=a.survey[g][_]}for(F in V.feedback.elements)if("object"==typeof a.feedback[F])switch(s=H.jElement.find(".ipt_fsqm_report_feedback_"+F+" table.table_to_update").eq(0),(d=s.find("> tbody")).find("tr.empty").remove(),V.feedback.elements[F].type){default:void 0!==iptFSQMReport.callbacks[V.feedback.elements[F].type]&&"function"==typeof t[iptFSQMReport.callbacks[V.feedback.elements[F].type]]&&t[iptFSQMReport.callbacks[V.feedback.elements[F].type]].apply(H,[V.feedback.elements[F],V.feedback.data[F],a.feedback[F],F,s,V]);break;case"upload":for(R in a.feedback[F])if(S=a.feedback[F][R],M=S.uploads.length,Q=0===M?1:M,p=e("<tr />"),V.do_names&&(V.sensitive_data?p.append('<td rowspan="'+Q+'"><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+S.id+'">'+S.name+"</a></td>"):p.append('<td rowspan="'+Q+'">'+S.name+"</td>")),V.sensitive_data&&p.append('<td rowspan="'+Q+'">'+S.email+"</td>"),V.do_date&&p.append('<td rowspan="'+Q+'">'+S.date+"</td>"),0===M)p.append('<th rowspan="'+Q+'">'+iptFSQMReport.noupload+"</th>"),d.append(p);else for(T in S.uploads)j='<a href="'+(q=S.uploads[T]).guid+'" target="_blank" title="'+q.filename+'">',A="",""!==q.thumb_url&&void 0!==(A=q.thumb_url.split(".").pop())&&null!==A&&(A=A.toLowerCase()),""!==q.thumb_url&&void 0!==A&&null!==A&&-1!==e.inArray(A,["jpg","jpeg","gif","png","apng","tiff","bmp"])&&(j+='<img src="'+q.thumb_url+'" /><br />'),j+=q.name+"</a>",p.append("<th>"+j+"</th>"),d.append(p),p=e("<tr />");break;case"feedback_large":case"feedback_small":case"mathematical":for(N in a.feedback[F])i=a.feedback[F][N],(p=e("<tr />")).append("<th>"+i.value+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&(p.append("<td>"+i.email+"</td>"),p.append("<td>"+i.phone+"</td>")),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p);break;case"signature":for(N in a.feedback[F])i=a.feedback[F][N],p=e("<tr />"),""!==i.value?p.append('<th><img src="data:image/png;base64,'+i.value+'" style="max-width: 400px; height: auto;" /></th>'):p.append("<th></th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&(p.append("<td>"+i.email+"</td>"),p.append("<td>"+i.phone+"</td>")),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p);break;case"gps":for(N in a.feedback[F])i=a.feedback[F][N],p="<tr>",V.do_names&&(p+='<td rowspan="4">',V.sensitive_data?p+='<a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a>":p+=i.name,p+="</td>"),p+='<th colspan="2"><a target="_blank" href="https://maps.google.com/maps?z=12&t=m&q=loc:'+i.lat+"+"+i.long+'"><img src="'+i.map+'" height="300" width="500" /></a></th>',V.sensitive_data&&(p+='<td rowspan="4">'+i.email+"</td>"),V.do_date&&(p+='<td rowspan="4">'+i.date+"</td>"),p+="</tr>",p+="<tr><th>"+V.feedback.elements[F].settings.location_name_label+"</th><td>"+i.location_name+"</td></tr>",p+="<tr><th>"+V.feedback.elements[F].settings.lat_label+"</th><td>"+i.lat+"</td></tr>",p+="<tr><th>"+V.feedback.elements[F].settings.long_label+"</th><td>"+i.long+"</td></tr>",d.append(p);break;case"feedback_matrix":P='<table class="ipt_fsqm_preview">',z="<tr><th></th>";for(y in V.feedback.elements[F].settings.columns)z+="<th>"+V.feedback.elements[F].settings.columns[y]+"</th>";P+="<thead>"+(z+="</tr>")+"</thead><tfoot>"+z+"</tfoot><tbody>";for(m in V.feedback.elements[F].settings.rows){P+="<tr><th>"+V.feedback.elements[F].settings.rows[m]+"</th>";for(y in V.feedback.elements[F].settings.columns)P+='<td class="row-'+m+"-col-"+y+'"></td>';P+="</tr>"}P=e(P+="</tbody></table>");for(N in a.feedback[F]){i=a.feedback[F][N],E=P.clone();for(m in i.matrix)for(y in i.matrix[m])E.find(".row-"+m+"-col-"+y).html(i.matrix[m][y]);p="<tr>",V.do_names&&(V.sensitive_data?p+='<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>":p+="<td>"+i.name+"</td>"),p+='<td class="data matrix"></td>',V.sensitive_data&&(p+="<td>"+i.email+"</td>"),V.do_date&&(p+="<td>"+i.date+"</td></tr>"),(p=e(p)).find("td.matrix").append(E),d.append(p)}}for(B in V.pinfo.elements)if("object"==typeof a.pinfo[B])switch(s=H.jElement.find(".ipt_fsqm_report_pinfo_"+B+" table.table_to_update").eq(0),(d=s.find("> tbody")).find("tr.empty").remove(),r=s.find("td.data table"),o=s.next("div").find("table.others"),0===r.length&&(r=s),V.pinfo.elements[B].type){default:void 0!==iptFSQMReport.callbacks[V.pinfo.elements[B].type]&&"function"==typeof t[iptFSQMReport.callbacks[V.pinfo.elements[B].type]]&&t[iptFSQMReport.callbacks[V.pinfo.elements[B].type]].apply(H,[V.pinfo.elements[B],V.pinfo.data[B],a.pinfo[B],B,s,r,V]);break;case"f_name":case"l_name":case"email":case"phone":case"p_name":case"p_email":case"p_phone":case"textinput":case"textarea":case"password":case"keypad":case"datetime":case"hidden":for(N in a.pinfo[B])i=a.pinfo[B][N],(p=e("<tr />")).append("<th>"+i.value+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&(p.append("<td>"+i.email+"</td>"),p.append("<td>"+i.phone+"</td>")),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p);break;case"repeatable":for(N in a.pinfo[B])i=a.pinfo[B][N],(p=e("<tr />")).append('<td class="data">'+i.value+"</td>"),V.do_names&&(V.sensitive_data?p.append('<td style="vertical-align: top;"><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append('<td style="vertical-align: top;">'+i.name+"</td>")),V.sensitive_data&&(p.append('<td style="vertical-align: top;">'+i.email+"</td>"),p.append('<td style="vertical-align: top;">'+i.phone+"</td>")),V.do_date&&p.append('<td style="vertical-align: top;">'+i.date+"</td>"),d.append(p);break;case"guestblog":for(N in a.pinfo[B]){if(i=a.pinfo[B][N],(p=e("<tr />")).append("<th>"+i.title+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td rowspan="3"><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append('<td rowspan="3">'+i.name+"</td>")),V.sensitive_data&&(p.append('<td rowspan="3">'+i.email+"</td>"),p.append('<td rowspan="3">'+i.phone+"</td>")),V.do_date&&p.append('<td rowspan="3">'+i.date+"</td>"),d.append(p),(p=e("<tr />")).append("<td>"+i.value+"</td>"),d.append(p),p=e("<tr />"),D=e("<td />"),i.taxonomy.length)for(L in i.taxonomy)if(D.append("<h4>"+i.taxonomy[L].tax),i.taxonomy[L].terms.length){I=e('<ul class="ul-disc" />');for(O in i.taxonomy[L].terms)I.append("<li>"+i.taxonomy[L].terms[O]+"</li>");D.append(I)}p.append(D),d.append(p)}break;case"address":for(N in a.pinfo[B])i=a.pinfo[B][N],(p=e("<tr />")).append("<th>"+i.values.recipient+"</th>"),p.append("<td>"+i.values.line_one+"</td>"),p.append("<td>"+i.values.line_two+"</td>"),p.append("<td>"+i.values.line_three+"</td>"),p.append("<td>"+i.values.country+"</td>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&(p.append("<td>"+i.email+"</td>"),p.append("<td>"+i.phone+"</td>")),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p);break;case"payment":for(N in a.pinfo[B])i=a.pinfo[B][N],(p=e("<tr />")).append("<th>"+i.invoice+"</th>"),p.append("<td>"+i.status+"</td>"),p.append("<th>"+i.txn+"</th>"),p.append("<td>"+i.gateway+"</td>"),p.append("<th>"+i.total+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&(p.append("<td>"+i.email+"</td>"),p.append("<td>"+i.phone+"</td>")),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p);break;case"p_radio":case"p_checkbox":case"p_select":for(u in a.pinfo[B])if("others_data"==u&&V.do_others){if(void 0!==a.pinfo[B].others_data&&a.pinfo[B].others_data.length)for(c in a.pinfo[B].others_data)i=a.pinfo[B].others_data[c],(d=o.find("tbody")).find("tr.empty").remove(),(p=e("<tr />")).append("<th>"+i.value+"</th>"),V.do_names&&(V.sensitive_data?p.append('<td><a class="thickbox" href="'+V.ajaxurl+"?action=ipt_fsqm_quick_preview&id="+i.id+'">'+i.name+"</a></td>"):p.append("<td>"+i.name+"</td>")),V.sensitive_data&&p.append("<td>"+i.email+"</td>"),V.do_date&&p.append("<td>"+i.date+"</td>"),d.append(p)}else void 0!==V.pinfo.data[B][u]&&null!==V.pinfo.data[B][u]||(V.pinfo.data[B][u]=0),n=a.pinfo[B][u],isNaN(n)||(V.pinfo.data[B][u]+=n,V.do_data&&H.updateCount(r.find("td.data_op_"+u),V.pinfo.data[B][u]));break;case"s_checkbox":for(b in a.pinfo[B])isNaN(a.pinfo[B][b])||(void 0===V.pinfo.data[B][b]?V.pinfo.data[B][b]=a.pinfo[B][b]:V.pinfo.data[B][b]+=a.pinfo[B][b],V.do_data&&H.updateCount(r.find("td.data_op_"+b),V.pinfo.data[B][b]));break;case"p_sorting":for(_ in a.pinfo[B])if(w=H.objectLength(V.pinfo.elements[B].settings.options),isNaN(a.pinfo[B][_])){if("orders"==_&&"object"==typeof a.pinfo[B][_])for(k in a.pinfo[B][_])if(""!==k){if(void 0===V.pinfo.data[B].orders[k]){if(V.pinfo.data[B].orders[k]=a.pinfo[B][_][k],V.do_data){x=k.split("-"),r.find("tbody tr").length&&r.find("tbody").append('<tr class="head"><th colspan="3"></th></tr>'),C=!0;for(u in x)void 0!==V.pinfo.elements[B].settings.options[x[u]]&&(l="",!0===C?(C=!1,l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+V.pinfo.elements[B].settings.options[x[u]].label+'</th><td rowspan="'+w+'" data="'+k+'"></td></tr>'):l='<tr><td class="icons">'+iptFSQMReport.sorting_img+"</td><th>"+V.pinfo.elements[B].settings.options[x[u]].label+"</th>",r.find("tbody").append(l))}}else V.pinfo.data[B].orders[k]+=a.pinfo[B][_][k];V.do_data&&H.updateCount(r.find('td[data="'+k+'"]'),V.pinfo.data[B].orders[k])}}else void 0===V.pinfo.data[B][_]?V.pinfo.data[B][_]=a.pinfo[B][_]:V.pinfo.data[B][_]+=a.pinfo[B][_]}},initCharts:function(){var t=this;this.settings;this.jElement.find(".ipt_fsqm_report_container").show(),s?t.drawCharts():google.charts.setOnLoadCallback(function(){s=!0,t.drawCharts()}),this.printer.show().find("button.ipt_fsqm_report_print").on("click",function(){t.jElement.printElement({leaveOpen:!0,printMode:"popup",pageTitle:a.title,printBodyOptions:{classNameToAdd:t.jElement.parents(".ipt_uif_common").attr("class"),styleToAdd:"padding:10px;margin:10px;background: #fff none;color:#333;font-size:12px;"}})}),"function"==typeof e.fn.iptPluginUIFAdmin&&this.jElement.iptPluginUIFAdmin("reinitTBAnchors"),this.progressBar.fadeOut("fast"),this.loader.find(".ipt_uif_ajax_loader_text").html(iptFSQMReport.charts)},drawCharts:function(){this.loader.fadeOut("fast");var n,i,s,r,o,d,p,l,u,c,g,f,v,_,h,m,y,b,w,k,x,C,F,R,S,M,Q,T,q=this,j=this.settings;for(n in j.survey.data)switch(s=q.jElement.find(".ipt_fsqm_report_survey_"+n+" table.table_to_update").eq(0),r=s.find("td.visualization"),p=s.find("td.data"),S=q.getChartTitle("mcq",n),M=q.getChartLegend("mcq",n),j.survey.elements[n].type){default:void 0!==iptFSQMReport.gcallbacks[j.survey.elements[n].type]&&"function"==typeof t[iptFSQMReport.gcallbacks[j.survey.elements[n].type]]&&t[iptFSQMReport.gcallbacks[j.survey.elements[n].type]].apply(q,[j.survey.elements[n],j.survey.data[n],n,s,p,j,S,M]);break;case"radio":case"checkbox":case"select":case"thumbselect":case"pricing_table":d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label];for(l in j.survey.data[n])void 0!==j.survey.data[n][l]&&("others"==l&&void 0!==j.survey.elements[n].settings.o_label&&!0===j.survey.elements[n].settings.others?o[o.length]=[j.survey.elements[n].settings.o_label.replace(/(<([^>]+)>)/gi,""),j.survey.data[n][l]]:void 0!==j.survey.elements[n].settings.options[l]&&(o[o.length]=[j.survey.elements[n].settings.options[l].label.replace(/(<([^>]+)>)/gi,""),j.survey.data[n][l]]));switch(u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"smileyrating":d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label];for(c in j.survey.data[n])void 0!==j.survey.data[n][c]&&"feedback_data"!=c&&void 0!==j.survey.elements[n].settings.labels[c]&&(o[o.length]=[j.survey.elements[n].settings.labels[c].replace(/(<([^>]+)>)/gi,""),j.survey.data[n][c]]);switch(u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"likedislike":d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label];for(c in j.survey.data[n])void 0!==j.survey.data[n][c]&&"feedback_data"!=c&&void 0!==j.survey.elements[n].settings[c]&&(o[o.length]=[j.survey.elements[n].settings[c].replace(/(<([^>]+)>)/gi,""),j.survey.data[n][c]]);switch(u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"slider":d=a.createElement("div"),r.append(d),u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie"),F=q.getChartAverage("mcq",n,!1),q.populateSliderChart(j.survey.data[n],u,300,d,C,F,S,M);break;case"range":d=a.createElement("div"),r.append(d),u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),q.populateRangeChart(j.survey.data[n],u,300,d,j.survey.elements[n].settings,S,M);break;case"grading":C=q.getChartType("mcq",n,"pie"),F=q.getChartAverage("mcq",n,!1);for(l in j.survey.data[n])void 0!==j.survey.elements[n].settings.options[l]&&(g=(g="object"==typeof j.survey.elements[n].settings.options[l]?j.survey.elements[n].settings.options[l].label:j.survey.elements[n].settings.options[l]).replace(/(<([^>]+)>)/gi,""),f="grading",v=e('<td colspan=""></td>'),j.do_data?(v.attr("rowspan",s.find("tbody tr."+f+"_"+l+"_value_to_count_tr").length+2),s.find("tbody tr."+f+"_"+l+".head").prepend(v)):((Q=e("<tr></tr>")).append(v),s.find("tbody").append(Q)),d=a.createElement("div"),v.append(d),!0===j.survey.elements[n].settings.range?q.populateRangeChart(j.survey.data[n][l],g,"auto",d,j.survey.elements[n].settings,S,M):q.populateSliderChart(j.survey.data[n][l],g,"auto",d,C,F,S,M));break;case"spinners":case"starrating":case"scalerating":C=q.getChartType("mcq",n,"pie");for(l in j.survey.data[n])void 0!==j.survey.elements[n].settings.options[l]&&("object"==typeof(g=j.survey.elements[n].settings.options[l])&&(g=g.label),g=g.replace(/(<([^>]+)>)/gi,""),f="spinners"==j.survey.elements[n].type?"spinners":"rating",v=e('<td colspan=""></td>'),j.do_data?(v.attr("rowspan",s.find("tbody tr."+f+"_"+l+"_value_to_count_tr").length+2),s.find("tbody tr."+f+"_"+l+".head").prepend(v)):((Q=e("<tr></tr>")).append(v),s.find("tbody").append(Q)),d=a.createElement("div"),v.append(d),F=!1,"spinners"===j.survey.elements[n].type&&(F=q.getChartAverage("mcq",n,!1)),q.populateSliderChart(j.survey.data[n][l],g,"auto",d,C,F,S,M));break;case"matrix_dropdown":T=[""];for(h in j.survey.elements[n].settings.options)T[T.length]=j.survey.elements[n].settings.options[h].label.replace(/(<([^>]+)>)/gi,"");for(_ in j.survey.elements[n].settings.rows){(o=[])[0]=T,void 0===j.survey.data[n][_]&&(j.survey.data[n][_]=[]);for(m in j.survey.elements[n].settings.columns){void 0===j.survey.data[n][_][m]&&(j.survey.data[n][_][m]=[]),y=[j.survey.elements[n].settings.columns[m].replace(/(<([^>]+)>)/gi,"")];for(l in j.survey.elements[n].settings.options)y[y.length]=void 0===j.survey.data[n][_][m][l]?0:j.survey.data[n][_][m][l];o[o.length]=y}switch(d=a.createElement("div"),r.filter(".row-"+_).append(d),u=j.survey.elements[n].settings.rows[_].replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"bar":case"sbar":R="sbar"==C?{isStacked:!0}:{},q.drawBarChart(d,o,"","",u,300,R,S,M);break;case"column":case"scolumn":R="scolumn"==C?{isStacked:!0}:{},q.drawColumnChart(d,o,"","",u,300,R,S,M)}}break;case"matrix":(o=[])[0]=[""];for(h in j.survey.elements[n].settings.columns)o[0][o[0].length]=j.survey.elements[n].settings.columns[h].replace(/(<([^>]+)>)/gi,"");for(b in j.survey.elements[n].settings.rows){void 0===j.survey.data[n][b]&&(j.survey.data[n][b]=[]),y=[j.survey.elements[n].settings.rows[b].replace(/(<([^>]+)>)/gi,"")];for(w in j.survey.elements[n].settings.columns)void 0===j.survey.data[n][b][w]?y[y.length]=0:y[y.length]=parseFloat(j.survey.data[n][b][w]);o[o.length]=y}switch(d=a.createElement("div"),r.append(d),u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"bar":case"sbar":R="sbar"==C?{isStacked:!0}:{},q.drawBarChart(d,o,"","",u,300,R,S,M);break;case"column":case"scolumn":R="scolumn"==C?{isStacked:!0}:{},q.drawColumnChart(d,o,"","",u,300,R,S,M)}break;case"toggle":switch(o=[],o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[j.survey.elements[n].settings.on,j.survey.data[n].on],o[2]=[j.survey.elements[n].settings.off,j.survey.data[n].off],d=a.createElement("div"),r.append(d),u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"sorting":k=[];for(h in j.survey.elements[n].settings.options)k[k.length]=j.survey.elements[n].settings.options[h].label.replace(/(<([^>]+)>)/gi,"");switch(o=[],o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.s_presets,{v:void 0!==j.survey.data[n].preset?j.survey.data[n].preset:0,f:(void 0!==j.survey.data[n].preset?j.survey.data[n].preset:0)+"\n"+iptFSQMReport.g_data.s_order+"\n"+k.join("\n")}],o[2]=[iptFSQMReport.g_data.s_others,{v:void 0!==j.survey.data[n].other?j.survey.data[n].other:0,f:(void 0!==j.survey.data[n].other?j.survey.data[n].other:0)+"\n"+iptFSQMReport.g_data.s_order_custom}],d=a.createElement("div"),r.append(d),u=j.survey.elements[n].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}o=[],j.survey.data[n].orders.sort(function(e,t){return t-e}),o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label];for(x in j.survey.data[n].orders){c=x.split("-"),g=[];for(h in c)void 0!==j.survey.elements[n].settings.options[c[h]]&&(g[g.length]=j.survey.elements[n].settings.options[c[h]].label.replace(/(<([^>]+)>)/gi,""));o[o.length]=[x,{v:j.survey.data[n].orders[x],f:j.survey.data[n].orders[x]+"\n"+iptFSQMReport.g_data.s_order+"\n"+g.join("\n")}]}switch(d=a.createElement("div"),r.append(d),C=q.getChartType("mcq",n,"pie")){default:case"pie":q.drawPieChart(d,o,iptFSQMReport.g_data.s_breakdown,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M)}}for(i in j.pinfo.data)switch(s=q.jElement.find(".ipt_fsqm_report_pinfo_"+i+" table.table_to_update").eq(0),r=s.find("td.visualization"),p=s.find("td.data"),S=q.getChartTitle("pinfo",i),M=q.getChartLegend("pinfo",i),j.pinfo.elements[i].type){default:void 0!==iptFSQMReport.gcallbacks[j.pinfo.elements[i].type]&&"function"==typeof t[iptFSQMReport.gcallbacks[j.pinfo.elements[i].type]]&&t[iptFSQMReport.gcallbacks[j.pinfo.elements[i].type]].apply(q,[j.pinfo.elements[i],j.pinfo.data[i],i,s,p,j,S,M]);break;case"p_radio":case"p_checkbox":case"p_select":d=a.createElement("div"),r.append(d),(o=[])[0]=[iptFSQMReport.g_data.op_label,iptFSQMReport.g_data.ct_label];for(l in j.pinfo.data[i])void 0!==j.pinfo.data[i][l]&&("others"==l&&void 0!==j.pinfo.elements[i].settings.o_label&&!0===j.pinfo.elements[i].settings.others?o[o.length]=[j.pinfo.elements[i].settings.o_label.replace(/(<([^>]+)>)/gi,""),j.pinfo.data[i][l]]:void 0!==j.pinfo.elements[i].settings.options[l]&&(o[o.length]=[j.pinfo.elements[i].settings.options[l].label.replace(/(<([^>]+)>)/gi,""),j.pinfo.data[i][l]]));switch(u=j.pinfo.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("pinfo",i,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"s_checkbox":switch(o=[],o[0]=[iptFSQMReport.g_data.sc_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.scon_label,j.pinfo.data[i].checked],o[2]=[iptFSQMReport.g_data.scoff_label,j.pinfo.data[i].unchecked],d=a.createElement("div"),r.append(d),u=j.pinfo.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("pinfo",i,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}break;case"p_sorting":k=[];for(h in j.pinfo.elements[i].settings.options)k[k.length]=j.pinfo.elements[i].settings.options[h].label.replace(/(<([^>]+)>)/gi,"");switch(o=[],o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label],o[1]=[iptFSQMReport.g_data.s_presets,{v:void 0!==j.pinfo.data[i].preset?j.pinfo.data[i].preset:0,f:(void 0!==j.pinfo.data[i].preset?j.pinfo.data[i].preset:0)+"\n"+iptFSQMReport.g_data.s_order+"\n"+k.join("\n")}],o[2]=[iptFSQMReport.g_data.s_others,{v:void 0!==j.pinfo.data[i].other?j.pinfo.data[i].other:0,f:(void 0!==j.pinfo.data[i].other?j.pinfo.data[i].other:0)+"\n"+iptFSQMReport.g_data.s_order_custom}],d=a.createElement("div"),r.append(d),u=j.pinfo.elements[i].title.replace(/(<([^>]+)>)/gi,""),C=q.getChartType("pinfo",i,"pie")){default:case"pie":q.drawPieChart(d,o,u,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",u,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",u,300,{},S,M)}o=[],j.pinfo.data[i].orders.sort(function(e,t){return t-e}),o[0]=[iptFSQMReport.g_data.tg_label,iptFSQMReport.g_data.ct_label];for(x in j.pinfo.data[i].orders){c=x.split("-"),g=[];for(h in c)void 0!==j.pinfo.elements[i].settings.options[c[h]]&&(g[g.length]=j.pinfo.elements[i].settings.options[c[h]].label.replace(/(<([^>]+)>)/gi,""));o[o.length]=[x,{v:j.pinfo.data[i].orders[x],f:j.pinfo.data[i].orders[x]+"\n"+iptFSQMReport.g_data.s_order+"\n"+g.join("\n")}]}switch(d=a.createElement("div"),r.append(d),C=q.getChartType("pinfo",i,"pie")){default:case"pie":q.drawPieChart(d,o,iptFSQMReport.g_data.s_breakdown,{},S,M);break;case"bar":q.drawBarChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M);break;case"column":q.drawColumnChart(d,o,"","",iptFSQMReport.g_data.s_breakdown,300,{},S,M)}}},getChartType:function(e,t,a){var n;try{n=this.settings.cmeta[e].charttype[t]}catch(e){n=a}return void 0===n&&(n=a),n},getChartAverage:function(e,t){return this._getChartToggles(e,t,"average")},getChartTitle:function(e,t){return this._getChartToggles(e,t,"title")},getChartLegend:function(e,t){return this._getChartToggles(e,t,"legend")},_getChartToggles:function(e,t,a){var n;try{n=this.settings.cmeta[e].toggles[t][a]}catch(e){n=!1}return void 0===n&&(n=!1),!!n},objectLength:function(e){if("object"!=typeof e)return!1;var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a},numberFormat:function(e){var t=parseFloat(e);return isNaN(t)?e:parseInt(100*e,10)/100},appendToTableInPositionForMinMax:function(e,t,a,n,i,s,r,o,d){if(s.length){var p,l,u,c,g,f,v=parseFloat(s[0]),_=parseFloat(s[1]);if(r=parseFloat(r),o=parseFloat(o),d=parseFloat(d),t.find("tbody tr td."+i).length&&!(isNaN(v)||isNaN(_)||isNaN(r)||isNaN(o)||isNaN(d)))for(p=v,l=v;p>=r||l<=o;p-=d,l+=d){if((u=t.find('td[data-value-min="'+p+'"].'+i)).length)for(c=_,g=_;c>=r||g<=o;c-=d,g+=d){if(u.filter('td[data-value-max="'+c+'"].'+i).length)return void u.filter('td[data-value-max="'+c+'"].'+i).parent().after(e);if(u.filter('td[data-value-max="'+g+'"].'+i).length)return void u.filter('td[data-value-max="'+g+'"].'+i).parent().before(e)}if((f=t.find('td[data-value-min="'+l+'"].'+i)).length)for(c=_,g=_;c>=r||g<=o;c-=d,g+=d){if(f.filter('td[data-value-max="'+c+'"].'+i).length)return void f.filter('td[data-value-max="'+c+'"].'+i).parent().after(e);if(f.filter('td[data-value-max="'+g+'"].'+i).length)return void f.filter('td[data-value-max="'+g+'"].'+i).parent().before(e)}}null===n||void 0===n?a.append(e):n.after(e)}else null===n?a.append(e):n.after(e)},appendToTableInPositionForVal:function(e,t,a,n,i,s,r,o,d){s=parseFloat(s),r=parseFloat(r),o=parseFloat(o),d=parseFloat(d);var p,l,u,c;if(t.find("tbody tr td."+i).length&&!(isNaN(s)||isNaN(r)||isNaN(o)||isNaN(d)))for(p=s,l=s;p>=r||l<=o;p-=d,l+=d){if((u=t.find('td[data-value="'+p+'"].'+i)).length)return void u.parent().after(e);if((c=t.find('td[data-value="'+l+'"].'+i)).length)return void c.parent().before(e)}null===n||void 0===n?a.append(e):n.after(e)},updateCount:function(e,t){e.html(t)},calculateRating:function(e,t,a,n,i,s,r,o,d){var p,l,u,c,g,f,v,_,h=0,m=0;for(p in e)if(!isNaN(e[p])&&(h+=p*e[p],m+=e[p],void 0===t[p]?t[p]=e[p]:t[p]+=e[p],this.settings.do_data))if((l=a.find('td[data-value="'+p+'"].'+r)).length)l.text(t[p]);else{for(u="",c=1;c<=d.max;c++)u+=c<=p?iptFSQMReport.rating_img_full:iptFSQMReport.rating_img_empty;f='<tr class="'+s+'"><th>'+u+'</th><td class="'+r+'" data-value="'+p+'">'+t[p]+"</td></tr>",this.appendToTableInPositionForVal(f,a,n,i,r,p,d.min,d.max,d.step)}if(void 0===t.average_meta?t.average_meta={total:h,count:m}:(t.average_meta.total+=h,t.average_meta.count+=m),t.average=this.numberFormat(t.average_meta.total/t.average_meta.count),this.settings.do_data){for(v="",_=Math.floor(t.average),g=1;g<=d.max;g++)_>=g?v+=iptFSQMReport.rating_img_full:_+1===g&&g===Math.round(t.average)?v+=iptFSQMReport.rating_img_half:v+=iptFSQMReport.rating_img_empty;this.updateCount(o.find("span.avg"),t.average),this.updateCount(o.find("span.avg_img"),v),this.updateCount(o.find("span.avg_count"),t.average_meta.count)}},calculateSlider:function(e,t,a,n,i,s,r,o,d){var p,l,u,c=0,g=0;void 0===d.prefix&&(d.prefix=""),void 0===d.suffix&&(d.suffix="");for(p in e)isNaN(e[p])||(c+=p*e[p],g+=e[p],void 0===t[p]?t[p]=e[p]:t[p]+=e[p],this.settings.do_data&&((l=a.find('td[data-value="'+p+'"].'+r)).length?l.text(t[p]):(u='<tr class="'+s+'"><th>'+d.prefix+p+d.suffix+'</th><td class="'+r+'" data-value="'+p+'">'+t[p]+"</td></tr>",this.appendToTableInPositionForVal(u,a,n,i,r,p,d.min,d.max,d.step))));void 0===t.average_meta?t.average_meta={total:c,count:g}:(t.average_meta.total+=c,t.average_meta.count+=g),t.average=this.numberFormat(t.average_meta.total/t.average_meta.count),this.settings.do_data&&(this.updateCount(o.find("span.avg"),d.prefix+t.average+d.suffix),this.updateCount(o.find("span.avg_count"),t.average_meta.count))},calculateRange:function(e,t,a,n,i,s,r,o,d){var p,l,u,c,g,f,v=0,_=0,h=0;void 0===d.prefix&&(d.prefix=""),void 0===d.suffix&&(d.suffix="");for(p in e)isNaN(e[p])||(l=p.split(","),h+=e[p],v+=l[0]*e[p],_+=l[1]*e[p],u=l[0]+iptFSQMReport.range_text+l[1],f=d.prefix+l[0]+d.suffix+iptFSQMReport.range_text+d.prefix+l[1]+d.suffix,void 0===t[u]?t[u]=e[p]:t[u]+=e[p],this.settings.do_data&&((c=a.find('td[data-value-min="'+l[0]+'"][data-value-max="'+l[1]+'"].'+r)).length?c.text(t[u]):(g='<tr class="'+s+'"><th>'+f+'</th><td class="'+r+'" data-value-min="'+l[0]+'" data-value-max="'+l[1]+'">'+t[u]+"</td></tr>",this.appendToTableInPositionForMinMax(g,a,n,i,r,l,d.min,d.max,d.step))));void 0===t.average_meta?t.average_meta={total_min:v,total_max:_,count:h}:(t.average_meta.total_min+=v,t.average_meta.total_max+=_,t.average_meta.count+=h),t.average=d.prefix+this.numberFormat(t.average_meta.total_min/t.average_meta.count)+d.suffix+iptFSQMReport.range_text+d.prefix+this.numberFormat(t.average_meta.total_max/t.average_meta.count)+d.suffix,this.settings.do_data&&(this.updateCount(o.find("span.avg"),t.average),this.updateCount(o.find("span.avg_count"),t.average_meta.count))},populateSliderChart:function(e,t,a,n,i,s,r,o){var d,p,l,u=[];for(d in e)isNaN(d)||(u[u.length]=parseFloat(d));i=void 0===i?"bar":i,u.sort(function(e,t){return!1===s&&"column"!==i?t-e:e-t});var c=[];c[c.length]=[iptFSQMReport.g_data.sl_label,iptFSQMReport.g_data.en_label];for(d in u)c[c.length]=[(!1===s&&"area"!==i?"":0)+u[d],e[u[d]]];if(s){for(p=0;p<c.length;p++)0===p?(c[p][c[p].length]=iptFSQMReport.g_data.perv,c[p][c[p].length]=iptFSQMReport.g_data.perc):(c[p][c[p].length]=this.numberFormat(c[p][0]*c[p][1]/e.average_meta.total*100),c[p][c[p].length]=this.numberFormat(c[p][1]/e.average_meta.count*100));p=c[0].length-2,(l={seriesType:"bars",series:{}}).series[p]={type:"line",format:"percent"},l.series[p-1]={type:"line",format:"percent"},this.drawComboChart(n,c,iptFSQMReport.g_data.sl_label,iptFSQMReport.g_data.en_label,t,a,l,r,o)}else switch(l={hAxis:{baseline:"automatic"}},i){default:case"bar":this.drawBarChart(n,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,t,a,l,r,o);break;case"column":this.drawColumnChart(n,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,t,a,l,r,o);break;case"area":this.drawAreaChart(n,c,iptFSQMReport.g_data.en_label,iptFSQMReport.g_data.sl_label,t,a,l,r,o)}},populateRangeChart:function(e,t,a,n,i,s,r){var o,d,p=[];for(o in e)2==(d=o.split(iptFSQMReport.range_text)).length&&(p[p.length]=d);p.sort(function(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0});var l,u,c,g=[];for(l in p)c=e[u=p[l].join(iptFSQMReport.range_text)]+" "+(1==e[u]?iptFSQMReport.g_data.sl_head_label_s:iptFSQMReport.g_data.sl_head_label_p),g[g.length]=[c,parseFloat(i.min),parseFloat(p[l][0]),parseFloat(p[l][1]),parseFloat(i.max)];this.drawCandlestickChart(n,g,iptFSQMReport.g_data.sg_label,iptFSQMReport.g_data.ct_label,t,a,i,{},s,r)},drawPieChart:function(n,i,s,r,o,d){o=void 0===o||o,d=void 0===d||d;var p=google.visualization.arrayToDataTable(i),l=new google.visualization.PieChart(n),u={title:s,is3D:!0,height:300,backgroundColor:"transparent",legend:{position:"bottom"},tooltip:{isHTML:!0}};void 0===r&&(r={}),u=e.extend({},r,u),!1===o&&(u.title=void 0),!1===d&&(u.legend.position="none"),l.draw(p,u),e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(function(){(l=new google.visualization.PieChart(n)).draw(p,u)},200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(function(){(l=new google.visualization.PieChart(n)).draw(p,u)},200)}))},drawAreaChart:function(n,i,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=google.visualization.arrayToDataTable(i),g=new google.visualization.AreaChart(n),f={hAxis:{title:s,baseline:0,gridlines:{count:-1}},vAxis:{title:r,baseline:0,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),f=e.extend({},p,f),!1===l&&(f.title=void 0),!1===u&&(f.legend.position="none",f.axisTitlesPosition="none",f.hAxis.textPosition="none",f.vAxis.textPosition="none",f.hAxis.gridlines.color="none",f.vAxis.gridlines.color="none"),g.draw(c,f),e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(function(){(g=new google.visualization.AreaChart(n)).draw(c,f)},200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(function(){(g=new google.visualization.AreaChart(n)).draw(c,f)},200)}))},drawCandlestickChart:function(n,i,s,r,o,d,p,l,u,c){u=void 0===u||u,c=void 0===c||c;var g=google.visualization.arrayToDataTable(i,!0),f=new google.visualization.CandlestickChart(n),v={hAxis:{title:s,gridlines:{count:-1}},vAxis:{title:r,minValue:parseFloat(p.min),maxValue:parseFloat(p.max),viewWindow:{max:parseFloat(p.max),min:parseFloat(p.min)},gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"none"}};void 0===l&&(l={}),v=e.extend({},l,v),!1===u&&(v.title=void 0),!1===c&&(v.legend.position="none",v.axisTitlesPosition="none",v.hAxis.textPosition="none",v.vAxis.textPosition="none",v.hAxis.gridlines.color="none",v.vAxis.gridlines.color="none"),f.draw(g,v),e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(function(){(f=new google.visualization.CandlestickChart(n)).draw(g,v)},200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(function(){(f=new google.visualization.CandlestickChart(n)).draw(g,v)},200)}))},drawBarChart:function(n,i,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=this,g=google.visualization.arrayToDataTable(i),f=c.settings.material?new google.charts.Bar(n):new google.visualization.BarChart(n),v={hAxis:{title:s,baseline:0,gridlines:{count:-1}},vAxis:{title:r,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};c.settings.material&&(v.bars="horizontal"),void 0===p&&(p={}),v=e.extend({},p,v),!1===l&&(v.title=void 0),!1===u&&(v.legend.position="none",v.axisTitlesPosition="none",v.hAxis.textPosition="none",v.vAxis.textPosition="none",v.hAxis.gridlines.color="none",v.vAxis.gridlines.color="none"),c.settings.material?f.draw(g,google.charts.Bar.convertOptions(v)):f.draw(g,v);var _=function(){f=c.settings.material?new google.charts.Bar(n):new google.visualization.BarChart(n),c.settings.material?f.draw(g,google.charts.Bar.convertOptions(v)):f.draw(g,v)};e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(_,200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(_,200)}))},drawColumnChart:function(n,i,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=this,g=google.visualization.arrayToDataTable(i),f=c.settings.material?new google.charts.Bar(n):new google.visualization.ColumnChart(n),v={hAxis:{title:s,gridlines:{count:-1}},vAxis:{title:r,baseline:0,gridlines:{count:-1}},title:o,backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),v=e.extend({},p,v),!1===l&&(v.title=void 0),!1===u&&(v.legend.position="none",v.axisTitlesPosition="none",v.hAxis.textPosition="none",v.vAxis.textPosition="none",v.hAxis.gridlines.color="none",v.vAxis.gridlines.color="none"),c.settings.material?f.draw(g,google.charts.Bar.convertOptions(v)):f.draw(g,v);var _=function(){f=c.settings.material?new google.charts.Bar(n):new google.visualization.ColumnChart(n),c.settings.material?f.draw(g,google.charts.Bar.convertOptions(v)):f.draw(g,v)};e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(_,200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(_,200)}))},drawComboChart:function(n,i,s,r,o,d,p,l,u){l=void 0===l||l,u=void 0===u||u;var c=google.visualization.arrayToDataTable(i),g=new google.visualization.ComboChart(n),f={title:o,vAxis:{title:r,gridlines:{count:-1}},hAxis:{title:s,gridlines:{count:-1}},backgroundColor:"transparent",height:d,tooltip:{isHTML:!0},legend:{position:"bottom"}};void 0===p&&(p={}),f=e.extend({},p,f),!1===l&&(f.title=void 0),!1===u&&(f.legend.position="none",f.axisTitlesPosition="none",f.hAxis.textPosition="none",f.vAxis.textPosition="none",f.hAxis.gridlines.color="none",f.vAxis.gridlines.color="none"),g.draw(c,f),e(t).resize(e.debounce(250,function(){e(n).html(""),setTimeout(function(){(g=new google.visualization.ComboChart(n)).draw(c,f)},200)})),e(a).on("fsqm.chartRedraw",e.debounce(250,function(){e(n).html(""),setTimeout(function(){(g=new google.visualization.ComboChart(n)).draw(c,f)},200)}))},yourOtherFunction:function(){}};var d={init:function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new i(this,t))})}};e.fn[r]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):("object"!=typeof t&&t?e.error("Method "+t+" does not exist on jQuery."+r):d.init.apply(this,arguments),this)}}(jQuery,window,document);